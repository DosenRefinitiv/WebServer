var fdc__widgets__=function(t){function e(e){for(var i,s,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);for(d&&d(e);h.length;)h.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=a[0]))}return t}var i={},n={1:0},r=[];function s(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(){return Promise.resolve()},s.m=t,s.c=i,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(a,i,function(e){return t[e]}.bind(null,i));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var o=window.webpackJsonpfdc_widgets_=window.webpackJsonpfdc_widgets_||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;return r.push([907,0]),a()}({167:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},168:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},169:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},170:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},171:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},172:function(t,e,a){},173:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},174:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},175:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},176:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},177:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},178:function(t,e,a){},179:function(t,e,a){},180:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},181:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},182:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},183:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},184:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},185:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},186:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},187:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},188:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},189:function(t,e,a){},190:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},191:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},192:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},193:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},194:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},195:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#007272",highlightNegativeChange:"#a65549",highlightDiffMax:"#0ca0fd",highlightDiffMaxLow:"#02619c",highlightDiffMin:"#fe7e1a",highlightDiffMinLow:"#893c01",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545"}},419:function(t){t.exports=JSON.parse('{"en":{"mainIndexWidget":{"buttons":{"chart":"Chart","table":"Table"},"table":{"high":"High","low":"Low","volume":"Volume","1week":"1 week","1month":"1 month","3months":"3 months","6months":"6 months","1year":"1 year","yearToDate":"Year to date"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},420:function(t){t.exports=JSON.parse('{"en":{"trendsWidget":{"progressBar":{"advancers":"Adv","decliners":"Dec","unchanged":"Unc"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},421:function(t){t.exports=JSON.parse('{"en":{"marketListWidget":{"custom":{"header":{"ticker":"Ticker","name":"Name","price":"Price","change":"+/-","changePercentage":"%","bid":"Bid","ask":"Ask","histClose":"Hist.Close","time":"Time","exchange":"Exchange","currency":"Currency"}},"grid":{"page":"Page","more":"more","to":"to","of":"of","next":"Next","last":"Last","first":"First","previous":"Previous","loadingOoo":"Loading...","noRowsToShow":"No Rows To Show","filterOoo":"Filter...","applyFilter":"Apply Filter...","clearFilter":"Clear Filter...","equals":"Equals","notEqual":"Not equal","lessThan":"Less than","greaterThan":"Greater than","lessThanOrEqual":"Less than or equal","greaterThanOrEqual":"Greater than or equal","inRange":"In range","contains":"Contains","notContains":"Not contains","startsWith":"Starts with","endsWith":"Ends with","andCondition":"AND","orCondition":"OR"}}}}')},423:function(t){t.exports=JSON.parse('{"en":{"heatmapWidget":{"controls":{"symbol":"Symbol","placeholder":"Enter symbol","indicator":"Indicator","size":"Size","sort":"Sort By"},"labels":{"performance":"Performance","tradeData":"Trade Data","fundamentals":"Fundamentals","ASC":"ASC","DESC":"DESC","oneWeek":"one week","oneMonth":"one month","oneYear":"one year","vola":"Vola","tradedVolume":"Traded Volume","turnover":"Turnover","freeFloat":"Free Float","marketCap":"Market Capitalization","earningsChangePrevYear":"Earnings change to prev. year","earningsYield":"Earnings Yield","dividendYield":"Dividend Yield","PEG":"Price-Earnings-Growth Ratio (PEG)","forwardPE":"Forward P/E","PE":"Price / Earnings Ratio (P/E)","PB":"Price / Book Ratio (P/B)","PC":"Price / Cash Flow Ratio (P/C)","PS":"Price / Sales Ratio (P/S)"},"short":{"millions":"mn","billions":"bn"},"messages":{"nodata":"No data available for this exchange. Possibly not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},425:function(t){t.exports=JSON.parse('{"en":{"orderBookWidget":{"buttons":{"buy":"B","sell":"S"},"table":{"bid":"Bid Price","numBid":"#Bid","bidSize":"Bid Size","volumes":"","ask":"Ask Price","numAsk":"#Ask","askSize":"Ask Size"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},427:function(t){t.exports=JSON.parse('{"en":{"instrumentInfo":{"header":{"high":"High","low":"Low","currency":"Currency","opening":"Open","end":"End","totvol":"Tot.vol.","time":"Time","buyer":"Bid","seller":"Ask","bid":"Bid","ask":"Ask","bidsize":"Bid Size","asksize":"Ask Size","roundlot":"Lot Size"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},428:function(t){t.exports=JSON.parse('{"en":{"keyFiguresWidget":{"titles":{"price":"Price","performance":"Performance"},"table":{"vwap":"VWAP","yearHigh":"Highest price in a year","yearLow":"Lowest price in a year","1day":"1 day","1week":"1 week","1month":"1 month","3months":"3 months","6months":"6 months","1year":"1 year","yearToDate":"Year to date","bvps":"Book value per share","eps":"Earnings per share","pe":"P/E","ps":"P/S","salesPerShare":"Sales per share","dividendYield":"Dividend yield","marketCap":"Market capitalization","sharesOutstanding":"Shares outstanding","dividendPerShare":"Dividend per share","dividendDate":"Dividend date"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},429:function(t){t.exports=JSON.parse('{"en":{"marketTilesWidget":{"quoteView":{"price":"PRICE","changePercentage":"PERFORMANCE %","change":"PERFORMANCE","volume":"VOLUME","open":"OPEN","high":"HIGH","low":"LOW"}}}}')},433:function(t){t.exports=JSON.parse('{"en":{"priceChartWidget":{"controls":{"symbol":"RIC","intraday":"Range","historical":"Historical","dateFrom":"From","dateTo":"To"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},434:function(t){t.exports=JSON.parse('{"en":{"winnersLosersWidget":{"controls":{"labels":{"exchange":"Exchange","table":"Table","interval":"Interval","results":"Results","min":"Min","gainers":"Winners","losers":"Losers","mostTurnover":"Highest Turnover","mostVolume":"Most Volume","mostTrades":"Most Trades"}},"table":{"symbol":"Symbol","name":"Name","price":"Price","priceChange":"Change","priceChangePercentage":"+/-","bid":"Bid","buy":"Buy","sell":"Sell","marketCap":"Mkt Cap (mn)","turnover":"Turnover","volume":"Volume"},"messages":{"nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},435:function(t){t.exports=JSON.parse('{"en":{"timeSalesWidget":{"controls":{"symbol":"RIC","dateFrom":"From","dateTo":"To","lastTrades":"Last trades","allTrades":"All trades"},"custom":{"header":{"time":"Time","ticker":"Ticker","name":"Name","price":"Price","change":"+/-","changePercentage":"%","bid":"Bid","ask":"Ask","histClose":"Hist.Close","volume":"Volume"}},"grid":{"page":"Page","more":"more","to":"to","of":"of","next":"Next","last":"Last","first":"First","previous":"Previous","loadingOoo":"Loading...","noRowsToShow":"No Rows To Show"},"messages":{"invalidDate":"Invalid date(s) provided.","futureDate":"A future date was provided.","invalidFromDate":"Start date cannot be greater than the end date.","nodata":"No data available for this exchange. Probably not operating at this time.","error":"There was an error. We will try to get the data again in a few moments..."}}}}')},53:function(t,e,a){t.exports={gray700:"#cdcdcd",gray800:"silver",gray900:"#b3b3b3",highlightPositiveChange:"#00e54c",highlightNegativeChange:"#fc0d1b",highlightDiffMax:"#00bad6",highlightDiffMaxLow:"#005d6b",highlightDiffMin:"#ff7f00",highlightDiffMinLow:"#703800",highlightMagentaHigh:"#f637a8",highlightMagentaLow:"#700545","gray-100":"#a3becc","gray-200":"#7a899a","gray-300":"#425160","gray-400":"#36414e","gray-500":"#35414d","gray-600":"#28313a","gray-700":"#232b33","gray-800":"#0c141c","gray-900":"#0d131a","blue-100":"#8fc5ff","blue-200":"#6bb2ff","blue-300":"#47a0ff","blue-400":"#248dff","blue-500":"#007bff","blue-600":"#0067d6","blue-700":"#0056b3","blue-800":"#00458f","blue-900":"#00346b","cyan-100":"#8ff0ff","cyan-200":"#6becff","cyan-300":"#47e7ff","cyan-400":"#24e3ff","cyan-500":"#00deff","cyan-600":"#00bad6","cyan-700":"#009bb3","cyan-800":"#007c8f","cyan-900":"#005d6b","green-100":"#45ff79","green-200":"#21ff60","green-300":"#00fc47","green-400":"#00d93d","green-500":"#00b533","green-600":"#009129","green-700":"#006e1f","green-800":"#004a15","green-900":"#00260b","magenta-100":"#fcc0e3","magenta-200":"#fb9dd5","magenta-300":"#f97bc6","magenta-400":"#f859b7","magenta-500":"#f637a8","magenta-600":"#f40b95","magenta-700":"#c8097a","magenta-800":"#9c075f","magenta-900":"#700545","orange-100":"#ffc78f","orange-200":"#ffb56b","orange-300":"#ffa347","orange-400":"#ff9124","orange-500":"#ff7f00","orange-600":"#db6d00","orange-700":"#b85b00","orange-800":"#944a00","orange-900":"#703800","purple-100":"#c667ff","purple-200":"#b843ff","purple-300":"#ab1fff","purple-400":"#9c00fb","purple-500":"#8600d7","purple-600":"#7000b3","purple-700":"#590090","purple-800":"#43006c","purple-900":"#2d0048","red-100":"#fe9aa0","red-200":"#fd777f","red-300":"#fd545d","red-400":"#fc303c","red-500":"#fc0d1b","red-600":"#e20310","red-700":"#bf020d","red-800":"#9c020b","red-900":"#790108","yellow-100":"#ffe596","yellow-200":"#ffdc72","yellow-300":"#ffd34e","yellow-400":"#ffca2b","yellow-500":"#ffc107","yellow-600":"#e2aa00","yellow-700":"#bf8f00","yellow-800":"#9b7400","yellow-900":"#775900",positive:"#00e54c","positive-highlight":"#0aff5b",negative:"#fc0d1b","negative-highlight":"#fc303c",neutral:"#424a51","neutral-highlight":"#525c65",agGridRowHeight:"22"}},569:function(t,e,a){"use strict";var i=a(167);a.n(i).a},570:function(t,e,a){"use strict";var i=a(168);a.n(i).a},571:function(t,e,a){"use strict";var i=a(169);a.n(i).a},572:function(t,e,a){"use strict";var i=a(170);a.n(i).a},573:function(t,e,a){"use strict";var i=a(171);a.n(i).a},574:function(t,e,a){"use strict";var i=a(172);a.n(i).a},575:function(t,e,a){"use strict";var i=a(173);a.n(i).a},6:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));try{if(void 0===window.dory)throw new Error("The Dory SDK is missing. Can´t use the API.")}catch(t){console.error(t.name+": "+t.message)}var i={Auth:window.dory.ServiceAuth,Rest:window.dory.ServiceRest,RestPolling:window.dory.ServiceRestPolling,Streaming:window.dory.ServiceStreaming,UserData:window.dory.ServiceUserData}},601:function(t,e,a){"use strict";var i=a(174);a.n(i).a},602:function(t,e,a){"use strict";var i=a(175);a.n(i).a},603:function(t,e,a){"use strict";var i=a(176);a.n(i).a},604:function(t,e,a){"use strict";var i=a(177);a.n(i).a},605:function(t,e,a){"use strict";var i=a(178);a.n(i).a},606:function(t,e,a){"use strict";var i=a(179);a.n(i).a},623:function(t,e,a){"use strict";var i=a(180);a.n(i).a},624:function(t,e,a){"use strict";var i=a(181);a.n(i).a},625:function(t,e,a){"use strict";var i=a(182);a.n(i).a},626:function(t,e,a){"use strict";var i=a(183);a.n(i).a},627:function(t,e,a){"use strict";var i=a(184);a.n(i).a},628:function(t,e,a){"use strict";var i=a(185);a.n(i).a},629:function(t,e,a){var i={"./Abkhazia.png":[644,0],"./Afghanistan.png":[645,0],"./Aland.png":[646,0],"./Albania.png":[647,0],"./Algeria.png":[648,0],"./American-Samoa.png":[649,0],"./Andorra.png":[650,0],"./Angola.png":[651,0],"./Anguilla.png":[652,0],"./Antarctica.png":[653,0],"./Antigua-and-Barbuda.png":[654,0],"./Argentina.png":[655,0],"./Armenia.png":[656,0],"./Aruba.png":[657,0],"./Australia.png":[658,0],"./Austria.png":[659,0],"./Azerbaijan.png":[660,0],"./Bahamas.png":[661,0],"./Bahrain.png":[662,0],"./Bangladesh.png":[663,0],"./Barbados.png":[664,0],"./Basque-Country.png":[665,0],"./Belarus.png":[666,0],"./Belgium.png":[667,0],"./Belize.png":[668,0],"./Benin.png":[669,0],"./Bermuda.png":[670,0],"./Bhutan.png":[671,0],"./Bolivia.png":[672,0],"./Bosnia-and-Herzegovina.png":[673,0],"./Botswana.png":[674,0],"./Brazil.png":[675,0],"./British-Antarctic-Territory.png":[676,0],"./British-Virgin-Islands.png":[677,0],"./Brunei.png":[678,0],"./Bulgaria.png":[679,0],"./Burkina-Faso.png":[680,0],"./Burundi.png":[681,0],"./Cambodia.png":[682,0],"./Cameroon.png":[683,0],"./Canada.png":[684,0],"./Canary-Islands.png":[685,0],"./Cape-Verde.png":[686,0],"./Catalonia.png":[687,0],"./Cayman-Islands.png":[688,0],"./Central-African-Republic.png":[689,0],"./Chad.png":[690,0],"./Chile.png":[691,0],"./China.png":[692,0],"./Christmas-Island.png":[693,0],"./Cocos-Keeling-Islands.png":[694,0],"./Colombia.png":[695,0],"./Commonwealth.png":[696,0],"./Comoros.png":[697,0],"./Cook-Islands.png":[698,0],"./Costa-Rica.png":[699,0],"./Cote-dIvoire.png":[700,0],"./Croatia.png":[701,0],"./Cuba.png":[702,0],"./Curacao.png":[703,0],"./Cyprus.png":[704,0],"./Czech-Republic.png":[705,0],"./Democratic-Republic-of-the-Congo.png":[706,0],"./Denmark.png":[707,0],"./Djibouti.png":[708,0],"./Dominica.png":[709,0],"./Dominican-Republic.png":[710,0],"./East-Timor.png":[711,0],"./Ecuador.png":[712,0],"./Egypt.png":[713,0],"./El-Salvador.png":[714,0],"./England.png":[715,0],"./Equatorial-Guinea.png":[716,0],"./Eritrea.png":[717,0],"./Estonia.png":[718,0],"./Ethiopia.png":[719,0],"./European-Union.png":[720,0],"./Falkland-Islands.png":[721,0],"./Faroes.png":[722,0],"./Fiji.png":[723,0],"./Finland.png":[724,0],"./France.png":[725,0],"./French-Polynesia.png":[726,0],"./French-Southern-Territories.png":[727,0],"./Gabon.png":[728,0],"./Gambia.png":[729,0],"./Georgia.png":[730,0],"./Germany.png":[731,0],"./Ghana.png":[732,0],"./Gibraltar.png":[733,0],"./GoSquared.png":[734,0],"./Greece.png":[735,0],"./Greenland.png":[736,0],"./Grenada.png":[737,0],"./Guam.png":[738,0],"./Guatemala.png":[739,0],"./Guernsey.png":[740,0],"./Guinea-Bissau.png":[741,0],"./Guinea.png":[742,0],"./Guyana.png":[743,0],"./Haiti.png":[744,0],"./Honduras.png":[745,0],"./Hong-Kong.png":[746,0],"./Hungary.png":[747,0],"./Iceland.png":[748,0],"./India.png":[749,0],"./Indonesia.png":[750,0],"./Iran.png":[751,0],"./Iraq.png":[752,0],"./Ireland.png":[753,0],"./Isle-of-Man.png":[754,0],"./Israel.png":[755,0],"./Italy.png":[756,0],"./Jamaica.png":[757,0],"./Japan.png":[758,0],"./Jersey.png":[759,0],"./Jordan.png":[760,0],"./Kazakhstan.png":[761,0],"./Kenya.png":[762,0],"./Kiribati.png":[763,0],"./Kosovo.png":[764,0],"./Kuwait.png":[765,0],"./Kyrgyzstan.png":[766,0],"./Laos.png":[767,0],"./Latvia.png":[768,0],"./Lebanon.png":[769,0],"./Lesotho.png":[770,0],"./Liberia.png":[771,0],"./Libya.png":[772,0],"./Liechtenstein.png":[773,0],"./Lithuania.png":[774,0],"./Luxembourg.png":[775,0],"./Macau.png":[776,0],"./Macedonia.png":[777,0],"./Madagascar.png":[778,0],"./Malawi.png":[779,0],"./Malaysia.png":[780,0],"./Maldives.png":[781,0],"./Mali.png":[782,0],"./Malta.png":[783,0],"./Mars.png":[784,0],"./Marshall-Islands.png":[785,0],"./Martinique.png":[786,0],"./Mauritania.png":[787,0],"./Mauritius.png":[788,0],"./Mayotte.png":[789,0],"./Mexico.png":[790,0],"./Micronesia.png":[791,0],"./Moldova.png":[792,0],"./Monaco.png":[793,0],"./Mongolia.png":[794,0],"./Montenegro.png":[795,0],"./Montserrat.png":[796,0],"./Morocco.png":[797,0],"./Mozambique.png":[798,0],"./Myanmar.png":[799,0],"./NATO.png":[800,0],"./Nagorno-Karabakh.png":[801,0],"./Namibia.png":[802,0],"./Nauru.png":[803,0],"./Nepal.png":[804,0],"./Netherlands-Antilles.png":[805,0],"./Netherlands.png":[806,0],"./New-Caledonia.png":[807,0],"./New-Zealand.png":[808,0],"./Nicaragua.png":[809,0],"./Niger.png":[810,0],"./Nigeria.png":[811,0],"./Niue.png":[812,0],"./Norfolk-Island.png":[813,0],"./North-Korea.png":[814,0],"./Northern-Cyprus.png":[815,0],"./Northern-Mariana-Islands.png":[816,0],"./Norway.png":[817,0],"./Olympics.png":[818,0],"./Oman.png":[819,0],"./Pakistan.png":[820,0],"./Palau.png":[821,0],"./Palestine.png":[822,0],"./Panama.png":[823,0],"./Papua-New-Guinea.png":[824,0],"./Paraguay.png":[825,0],"./Peru.png":[826,0],"./Philippines.png":[827,0],"./Pitcairn-Islands.png":[828,0],"./Poland.png":[829,0],"./Portugal.png":[830,0],"./Puerto-Rico.png":[831,0],"./Qatar.png":[832,0],"./Red-Cross.png":[833,0],"./Republic-of-the-Congo.png":[834,0],"./Reunion.png":[835,0],"./Romania.png":[836,0],"./Russia.png":[837,0],"./Rwanda.png":[838,0],"./Saint-Barthelemy.png":[839,0],"./Saint-Helena.png":[840,0],"./Saint-Kitts-and-Nevis.png":[841,0],"./Saint-Lucia.png":[842,0],"./Saint-Martin.png":[843,0],"./Saint-Vincent-and-the-Grenadines.png":[844,0],"./Samoa.png":[845,0],"./San-Marino.png":[846,0],"./Sao-Tome-and-Principe.png":[847,0],"./Saudi-Arabia.png":[848,0],"./Scotland.png":[849,0],"./Senegal.png":[850,0],"./Serbia.png":[851,0],"./Seychelles.png":[852,0],"./Sierra-Leone.png":[853,0],"./Singapore.png":[854,0],"./Sint-Maarten.png":[855,0],"./Slovakia.png":[856,0],"./Slovenia.png":[857,0],"./Solomon-Islands.png":[858,0],"./Somalia.png":[859,0],"./Somaliland.png":[860,0],"./South-Africa.png":[861,0],"./South-Georgia-and-the-South-Sandwich-Islands.png":[862,0],"./South-Korea.png":[863,0],"./South-Ossetia.png":[864,0],"./South-Sudan.png":[865,0],"./Spain.png":[866,0],"./Sri-Lanka.png":[867,0],"./Sudan.png":[868,0],"./Suriname.png":[869,0],"./Swaziland.png":[870,0],"./Sweden.png":[871,0],"./Switzerland.png":[872,0],"./Syria.png":[873,0],"./Taiwan.png":[874,0],"./Tajikistan.png":[875,0],"./Tanzania.png":[876,0],"./Thailand.png":[877,0],"./Togo.png":[878,0],"./Tokelau.png":[879,0],"./Tonga.png":[880,0],"./Trinidad-and-Tobago.png":[881,0],"./Tunisia.png":[882,0],"./Turkey.png":[883,0],"./Turkmenistan.png":[884,0],"./Turks-and-Caicos-Islands.png":[885,0],"./Tuvalu.png":[886,0],"./US-Virgin-Islands.png":[887,0],"./Uganda.png":[888,0],"./Ukraine.png":[889,0],"./United-Arab-Emirates.png":[890,0],"./United-Kingdom.png":[891,0],"./United-Nations.png":[892,0],"./United-States.png":[893,0],"./Unknown.png":[894,0],"./Uruguay.png":[895,0],"./Uzbekistan.png":[896,0],"./Vanuatu.png":[897,0],"./Vatican-City.png":[898,0],"./Venezuela.png":[899,0],"./Vietnam.png":[900,0],"./Wales.png":[901,0],"./Wallis-And-Futuna.png":[902,0],"./Western-Sahara.png":[903,0],"./Yemen.png":[904,0],"./Zambia.png":[905,0],"./Zimbabwe.png":[906,0]};function n(t){if(!a.o(i,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=i[t],n=e[0];return a.e(e[1]).then((function(){return a.t(n,7)}))}n.keys=function(){return Object.keys(i)},n.id=629,t.exports=n},630:function(t,e,a){"use strict";var i=a(186);a.n(i).a},631:function(t,e,a){"use strict";var i=a(187);a.n(i).a},632:function(t,e,a){"use strict";var i=a(188);a.n(i).a},634:function(t,e,a){var i={"./en-gb":635,"./fr-ca":636};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id=634},637:function(t,e,a){"use strict";var i=a(189);a.n(i).a},638:function(t,e,a){"use strict";var i=a(190);a.n(i).a},639:function(t,e,a){"use strict";var i=a(191);a.n(i).a},640:function(t,e,a){"use strict";var i=a(192);a.n(i).a},641:function(t,e,a){"use strict";var i=a(193);a.n(i).a},642:function(t,e,a){"use strict";var i=a(194);a.n(i).a},643:function(t,e,a){"use strict";var i=a(195);a.n(i).a},907:function(t,e,a){"use strict";a.r(e);var i=a(3),n=a(24),r=a.n(n),s=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper main-index-widget",attrs:{role:"region","aria-label":"Main Index Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,ric:this.ric,showHeader:this.showHeader,view:this.view},on:{updateView:this.onUpdateView}})],1)};s._withStripped=!0;var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body"},[a("b-container",{staticClass:"h-100 d-flex flex-column p-0 m-0",attrs:{fluid:""}},[t.showHeader?[a("div",{staticClass:"header"},[a("b-row",{staticClass:"ticker",attrs:{"no-gutters":""}},[a("b-col",{staticClass:"text-left",attrs:{cols:"4"}},[a("v-fidlet",{key:"trd_prc."+t.res.data["q._TRDPRC_1"],attrs:{tabindex:"0",data:t.formattedData["q._TRDPRC_1"]}})],1),t._v(" "),a("b-col",{staticClass:"text-right ticker-right",attrs:{cols:"8"}},[a("font-awesome-icon",{staticClass:"arrow",class:{greater:t.res.data["q._PCTCHNG"]>0,less:t.res.data["q._PCTCHNG"]<0},attrs:{icon:["fas","arrow-alt-right"]}}),t._v(" \n            "),a("v-fidlet",{key:"netchng."+t.res.data["q._NETCHNG_1"],attrs:{tabindex:"0",data:t.formattedData["q._NETCHNG_1"]}}),t._v(" /\n            "),a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["q._PCTCHNG"]>0,vless:t.res.data["q._PCTCHNG"]<0},attrs:{tabindex:"0",value:t.formattedData["q._PCTCHNG"]}})],1)],1),t._v(" "),a("b-row",{staticClass:"buttons mt-3 mb-3",attrs:{"no-gutters":""}},[a("b-col",[a("b-button",{staticClass:"button chart-button",attrs:{variant:"outline-success",pressed:"chart"===t.view},on:{click:function(e){return t.$emit("updateView","chart")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","chart-area"]}}),t._v("\n              "+t._s(t.i18n("buttons.chart"))+"\n            ")],1),t._v(" "),a("b-button",{staticClass:"button table-button",attrs:{variant:"outline-success",pressed:"table"===t.view},on:{click:function(e){return t.$emit("updateView","table")}}},[a("font-awesome-icon",{staticClass:"icon",attrs:{icon:["fas","line-columns"]}}),t._v("\n              "+t._s(t.i18n("buttons.table"))+"\n            ")],1)],1)],1)],1)]:t._e(),t._v(" "),a("b-row",{staticClass:"chart-container",attrs:{"no-gutters":""}},["chart"===t.view?a("b-col",{staticClass:"chart-view"},[t.isError?"nodata"===t.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n          "+t._s(t.i18n("messages.nodata"))+"\n        ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n          "+t._s(t.i18n("messages.error"))+"\n        ")]):a("v-stock-chart",{ref:"chart",staticClass:"chart",attrs:{options:t.chartOptions,theme:"dnb",tabindex:"0"}})],1):t._e(),t._v(" "),"table"===t.view?a("b-col",{staticClass:"table-view"},[a("b-container",{staticClass:"d-flex flex-column p-0 m-0"},[a("b-row",{attrs:{"no-gutters":""}},[a("b-col",[a("table",{attrs:{tabindex:"0"}},[a("tr",[a("td",[t._v(t._s(t.i18n("table.high")))]),t._v(" "),a("td",[a("v-fidlet",{key:"high."+t.res.data["q._HIGH_1"],staticClass:"bold",attrs:{data:t.formattedData["q._HIGH_1"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.low")))]),t._v(" "),a("td",[a("v-fidlet",{key:"low."+t.res.data["q._LOW_1"],staticClass:"bold",attrs:{data:t.formattedData["q._LOW_1"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.volume")))]),t._v(" "),a("td",[a("v-fidlet",{key:"vol."+t.res.data["q._ACVOL_1"],staticClass:"bold",attrs:{data:t.formattedData["q._ACVOL_1"]}})],1)])])]),t._v(" "),a("b-col",[a("table",{attrs:{tabindex:"0"}},[a("tr",[a("td",[t._v(t._s(t.i18n("table.1week")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_1W"]>0,vless:t.res.data["d._PCTCHG_1W"]<0},attrs:{value:t.formattedData["d._PCTCHG_1W"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.1month")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_1M"]>0,vless:t.res.data["d._PCTCHG_1M"]<0},attrs:{value:t.formattedData["d._PCTCHG_1M"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.3months")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_3M"]>0,vless:t.res.data["d._PCTCHG_3M"]<0},attrs:{value:t.formattedData["d._PCTCHG_3M"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.6months")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_6M"]>0,vless:t.res.data["d._PCTCHG_6M"]<0},attrs:{value:t.formattedData["d._PCTCHG_6M"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.1year")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_1Y"]>0,vless:t.res.data["d._PCTCHG_1Y"]<0},attrs:{value:t.formattedData["d._PCTCHG_1Y"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.yearToDate")))]),t._v(" "),a("td",[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:t.res.data["d._PCTCHG_YR"]>0,vless:t.res.data["d._PCTCHG_YR"]<0},attrs:{value:t.formattedData["d._PCTCHG_YR"]}})],1)])])])],1)],1)],1):t._e()],1)],2),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};o._withStripped=!0;var c=a(27),l=a.n(c),d=a(6),u=a(42),h=a(67),g=a(83),f=a(115),p=a(26),m=a(41),v={data:function(){return{debug:!0}},methods:{log:function(){if(!0===this.debug){var t=Array.prototype.slice.call(arguments);t.unshift("["+this.wid+"]"),console.log.apply(console,t)}}}},b={data:function(){return{subscriptionId:null}},computed:{hasStreamingPermission:function(){return d.a.Auth.getToken().prm.includes("a:streaming")}},methods:{streamingSubscribe:function(t,e,a,i){var n=this;if(!this.hasStreamingPermission)return!1;this.streamingConnect().then((function(){n.subscriptionId=d.a.Streaming.Quote.subscribe(t,(function(t,a){a&&(n.subscriptionId=null),e(t,a)}),(function(t,e){return a(t,e)}),(function(t,e){return i(t,e)}))}))},streamingUnsubscribe:function(){var t=this;return new Promise((function(e,a){null!==t.subscriptionId?d.a.Streaming.Quote.unsubscribe(t.subscriptionId,(function(i,n){n?a(n):(t.subscriptionId=null,e(i))})):e()}))},streamingConnect:function(){return d.a.Streaming.connect()}},beforeDestroy:function(){this.streamingUnsubscribe()}},C=a(935),_=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2};if(Object(C.a)(+t))return t<1e4?e.$n(+t,a):e.$n(+t);if(!/^[+-]{0,1}\d+(\.\d+)?%$/.test(t))return t;var i=n();if("dot"===i)return t;if("comma"===i)return t.replace(".",",");function n(){var t=e.$n(1.11);return"1.11"===t?"dot":"1,11"===t&&"comma"}};u.c.add(h.c),u.c.add(h.b),u.c.add(h.a);var w={name:"w-main-index-widget",mixins:[v,b],components:{VLoader:p.a,VStockChart:f.a,VTickFlash:m.a,FontAwesomeIcon:g.a},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},showHeader:{type:Boolean,default:!0},view:{type:String,default:"chart"}},data:function(){return{debug:!1,isLoading:!1,isError:!1,interval:"d",formats:{},formattedData:[],fids:["q._DSPLY_NAME","q._TRDPRC_1","q._NETCHNG_1","q._PCTCHNG","q._HSTCLSDATE","q._BID","q.BIDSIZE","q._ASK","q.ASKSIZE","q.OPEN_PRC","q._HIGH_1","q._LOW_1","q._ACVOL_1","d._PCTCHG_1W","d._PCTCHG_1M","d._PCTCHG_3M","d._PCTCHG_6M","d._PCTCHG_1Y","d._PCTCHG_YR"],debounceFunction:null,res:{data:{},type:{}},timeseries:{}}},computed:{locale:function(){return this.$i18n.locale},chartOptions:function(){var t,e=this;return{lang:{decimalPoint:",",thousandsSep:" "},chart:{zoomType:"",animation:!1,panning:!1,type:"line",spacing:[0,35,0,0],reflow:!0},series:[{name:"Price",data:this.timeseries,softThreshold:!0,dataGrouping:{enabled:!1}}],tooltip:{hideDelay:0,padding:3,valueDecimals:2,formatter:(t=this,function(){var e=t.formatSingleData(this.y,_);return'<table><tr><td style="text-align: right">'.concat(e,"</td></tr></table>")})},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{type:"datetime",minRange:864e5,minTickInterval:72e5,tickPixelInterval:55},yAxis:{floor:0,tickPixelInterval:30,tickAmount:4,crosshair:{snap:!1},startOnTick:!1,labels:{align:"right",x:35,formatter:function(t){return e.formatSingleData(t.value,_)}}}}}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{ric:function(){this.log("watch ric"),this.debounceFunction()},locale:function(){this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},onResize:function(){},onCellClicked:function(t){this.$emit("buy",t.data["q.RIC"])},fetch:function(){var t=this;this.log("fetching",this.ric.value),this.isLoading=!0,this.lastUpdate=null,this.timeseries={},this.streamingUnsubscribe().then(this.getQuoteData).then((function(){t.streamingSubscribe({rics:[t.ric.value],fids:t.fids},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))},getQuoteData:function(){var t=this;return d.a.Rest.get("/quote/info?rics=".concat(this.ric.value,"&fids=").concat(this.fids)).then((function(e){if(t.log("response",e),t.isLoading=!1,t.isError=!1,0===e.data.data.length)return t.isError="nodata",!1;t.res={data:e.data.data[0]},t.formats=Object.keys(e.data.metadata).reduce((function(t,a){return t[a]=e.data.metadata[a].type,t}),{});var a=t.formatData(t.res.data,{},_);return t.formattedData=a,t.lastUpdate=new Date(t.res.data["q._HSTCLSDATE"]).getTime()/1e3,t.getTimeSeriesData(t.lastUpdate).then((function(e){t.timeseries=e,t.$refs.chart&&t.$refs.chart.chart.reflow()}))}))},getTimeSeriesData:function(t){var e=this;return d.a.Rest.get("/timeseries/intraday?ric=".concat(this.ric.value,"&fids=TIME,CLOSE&fromDate=").concat(t,"&interval=15")).then((function(t){e.log("timeseries",t);var a=t.data.data;return e.lastUpdate=a[a.length-1].TIME,a.map((function(t){return[1e3*t.TIME,parseFloat(t.CLOSE)]}))})).catch((function(t){return console.error(t),[]}))},handleSubscription:function(t,e){e&&(console.error("Streaming subscription",e),this.isError=!0)},handleSnapshot:function(t){var e=this,a=t.payload[0].data;this.formatData(a,this.formattedData,_),Object.keys(this.res.data).forEach((function(t){t in a&&(e.res.data[t]=a[t])})),this.lastUpdate=new Date(this.res.data["q._HSTCLSDATE"]).getTime()/1e3,this.getTimeSeriesData(this.lastUpdate).then((function(t){e.timeseries=t,e.$refs.chart&&e.$refs.chart.chart.reflow()}))},handleUpdate:function(t){var e=this;this.log("Update",t);var a=t.payload[0].data;this.formatData(a,this.formattedData,_),Object.keys(a).forEach((function(t){e.res.data[t]=a[t]}))},formatData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach((function(n){a[n]=e.$f(t[n],e.formats[n],(function(t){return i(t,e)}))})),a},formatSingleData:function(t,e,a){var i=this;return this.$f(t,this.formats,(function(t){return e(t,i,a)}))}}},y=(a(569),a(1)),D=Object(y.a)(w,o,[],!1,null,null,null);D.options.__file="src/widgets/WMainIndex/WBody.vue";var S=D.exports,E=a(40),O={name:"w-main-index-wrapper",components:{WBody:S},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}}},computed:{API:function(){return d.a},ric:function(){return{label:"RIC: ",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}},showHeader:function(){return this.$store.state.widget[this.wid].showHeader},view:function(){return this.$store.state.widget[this.wid].view}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),t)},onUpdateShowHeader:function(t){this.$store.commit("widget/".concat(this.wid,"/SHOW_HEADER_CHANGED"),t)},onUpdateView:function(t){this.$store.commit("widget/".concat(this.wid,"/VIEW_CHANGED"),t)}}},R=(a(570),Object(y.a)(O,s,[],!1,null,null,null));R.options.__file="src/widgets/WMainIndex/WWrapper.vue";var k=R.exports,T={namespaced:!0,state:function(){return{ric:"BMWG.DE",showHeader:!0,view:"chart"}},mutations:{RIC_CHANGED:function(t,e){t.ric=e},SHOW_HEADER_CHANGED:function(t,e){t.showHeader=e},VIEW_CHANGED:function(t,e){t.view=e}},actions:{},getters:{}},N=a(944),M=a(941),x=a(943),L=a(36),P=a(416),H=a(417);var I=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=void 0===e?"":e};var A=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=void 0===e?"":e};var q=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=void 0===e?"":e};function G(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var W=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e?this.value="":"boolean"==typeof e?this.value=e:(this.value=parseFloat(e),isNaN(this.value)&&(this.value=e))}var e,a,i;return e=t,(a=[{key:"price",value:function(){return this.value="number"==typeof this.value?(Math.round(100*this.value)/100).toFixed(2):this.value,this}},{key:"change",value:function(){return"boolean"!=typeof this.value&&(this.value=parseFloat(this.value)>=0?"+"+this.value:""+this.value),-1===this.value.indexOf("+")&&-1===this.value.indexOf("-")&&(this.value="+"+this.value),this}},{key:"percentage",value:function(){return this.value="number"==typeof this.value?(Math.round(100*this.value)/100).toFixed(2)+"%":this.value,this}},{key:"ratio",value:function(){return this.value="number"==typeof this.value?(Math.round(100*this.value*100)/100).toFixed(2)+"%":this.value,this}}])&&G(e.prototype,a),i&&G(e,i),t}();function j(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var F=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e?this.value="":"boolean"==typeof e?this.value=e:(this.value=parseInt(e),isNaN(this.value)&&(this.value=e))}var e,a,i;return e=t,(a=[{key:"large",value:function(){return this}}])&&j(e.prototype,a),i&&j(e,i),t}();function $(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=void 0===e?"":"boolean"==typeof e?e:e.toString()}var e,a,i;return e=t,(a=[{key:"currency",value:function(){return this}},{key:"instrument_type",value:function(){return this}},{key:"country",value:function(){return this}},{key:"exchange",value:function(){return this}}])&&$(e.prototype,a),i&&$(e,i),t}();function V(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var U=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e}var e,a,i;return e=t,(a=[{key:"parseFormatters",value:function(t){var e=[];return"string"==typeof t&&(t=t.split(".")),Object(L.a)(t)&&(e=t.map((function(t){return"string"==typeof t?t.indexOf(".")>-1?t.split(".").map((function(t){return t.trim()})):t.trim():"function"==typeof t?t:null})),e=Object(P.a)(e),e=Object(H.a)(e)),e}},{key:"format",value:function(t){t=this.parseFormatters(t);var e=this;return t.forEach((function(t){e="string"==typeof t?e[t]():{value:t(e.value)}})),e}},{key:"float",value:function(){return new W(this.value)}},{key:"string",value:function(){return new B(this.value)}},{key:"int",value:function(){return new F(this.value)}},{key:"date",value:function(){return new I(this.value)}},{key:"time",value:function(){return new A(this.value)}},{key:"datetime",value:function(){return new q(this.value)}}])&&V(e.prototype,a),i&&V(e,i),t}();function z(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Y={name:"v-fidlet",render:function(t){return this.$props.render?t("span",{class:this.classes.join(" ")},[this.$props.render({value:this.displayData})]):t("span",{class:this.classes.join(" ")},[this.displayData])},props:{data:{required:!0},type:{default:"string"},customFormatter:{type:Function},render:{type:Function,default:function(t){return t.value}}},computed:{displayData:function(){return new U(this.data).format(this.customFormatter?[this.type,this.customFormatter]:this.type).value},classes:function(){return["fidlet"].concat(z(this.type.split(".")))}}},J=Object(y.a)(Y,void 0,void 0,!1,null,null,null);J.options.__file="src/plugins/Fidlet/components/VFidlet.vue";var K=J.exports;function X(t,e){e.value.type||(e.value.type="string");var a=e.value.customFormatter?[e.value.type,e.value.customFormatter]:e.value.type;t.innerHTML=new U(e.value.data).format(a).value}var Q={name:"v-f",bind:function(t,e){return X(t,e)},update:function(t,e){return X(t,e)}},Z={install:function(t){t.component("v-fidlet",K),t.directive("f",Q),t.prototype.$f=function(t,e,a){e&&""!==e&&null!==e||(e="string");var i=a?[e,a]:e;return new U(t).format(i).value}}},tt=a(12),et=a(13),at=a(419);i.default.use(r.a);var it="mainIndex";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var nt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper ticker-band-widget",attrs:{role:"region","aria-label":"Ticker band Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,tickerElements:this.tickerElements,truncateNames:this.truncateNames},on:{click:this.onClick}})],1)};nt._withStripped=!0;var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-widget-control-bar",[a("b-form",{attrs:{inline:""},on:{submit:t.onElementsSubmit}},[a("label",{staticClass:"space10",attrs:{for:"inline-form-input-symbols"}},[t._v("RICs")]),t._v(" "),a("b-form-input",{attrs:{placeholder:"Enter RICs"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)};rt._withStripped=!0;var st=a(948),ot={name:"w-ticker-band-control-bar",components:{VWidgetControlBar:st.a},props:{api:{type:Object,required:!0}},data:function(){return{text:""}},methods:{onElementsSubmit:function(t){t.preventDefault();var e=this.text.split(/,\s|,/);e.forEach((function(t,a){e[a]=JSON.parse(t)})),this.$emit("updateElements",e)}}},ct=(a(571),Object(y.a)(ot,rt,[],!1,null,null,null));ct.options.__file="src/widgets/WTickerBand/WControlBar.vue";var lt=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget-body w-ticker-band-widget"},[a("section",[a("div",{staticClass:"overflow"},t._l(t.res.data,(function(e){return a("div",{key:e["q.RIC"],staticClass:"ticker-element",attrs:{tabindex:"0",role:"link","data-ric":e["q.RIC"]},on:{click:t.onClick}},[a("table",{attrs:{role:"presentation"}},[a("tr",[a("td",{staticClass:"ticker-header",attrs:{colspan:"3"}},[e.img?a("img",{staticClass:"image",attrs:{src:e.img,alt:"Flag","aria-hidden":"true"}}):t._e(),t._v(" "),e.name?a("div",{staticClass:"display-name",class:{truncate:t.truncateNames},attrs:{title:e.name}},[t._v("\n                "+t._s(e.name)+"\n              ")]):a("div",{staticClass:"display-name",class:{truncate:t.truncateNames},attrs:{title:e["q._DSPLY_NAME"]}},[t._v("\n                "+t._s(e["q._DSPLY_NAME"])+"\n              ")])])]),t._v(" "),a("tr",[a("td",{staticClass:"price"},[a("v-fidlet",{key:e["q.RIC"],attrs:{data:t.formattedData[e["q.RIC"]]["q._TRDPRC_1"]}})],1),t._v(" "),a("td",{staticClass:"arrow"},[a("font-awesome-icon",{class:{greater:e["q._PCTCHNG"]>0,less:e["q._PCTCHNG"]<0},attrs:{icon:["fas","arrow-alt-right"]}})],1),t._v(" "),a("td",{staticClass:"change"},[a("v-tick-flash",{staticClass:"c-tick-flash",class:{vgreater:e["q._PCTCHNG"]>0,vless:e["q._PCTCHNG"]<0},attrs:{value:t.formattedData[e["q.RIC"]]["q._PCTCHNG"]}})],1)])])])})),0)]),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};dt._withStripped=!0,u.c.add(h.a);var ut={name:"w-ticker-band-widget",mixins:[v,b],components:{VLoader:p.a,VTickFlash:m.a,FontAwesomeIcon:g.a},props:{wid:{type:String,required:!0},tickerElements:{type:Array,required:!0},truncateNames:{type:Boolean,required:!0}},data:function(){return{debug:!1,isLoading:!1,fids:["q.RIC","q._DSPLY_NAME","q._TRDPRC_1","q._PCTCHNG"],res:{data:[]},formats:{},formattedData:[],debounceFunction:null}},computed:{rics:function(){return this.tickerElements.map((function(t){return t.ric}))},locale:function(){return this.$i18n.locale}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.log("Mounted with:",this.rics),this.debounceFunction()},watch:{tickerElements:function(){this.log("Updated with:",this.tickerElements),this.debounceFunction()},locale:function(){this.debounceFunction()}},methods:{i18n:function(t){return this.$t("white-label.".concat("widgets.tickerBand",".",t))},onClick:function(t){var e={origin:t,ric:t.currentTarget.dataset.ric};this.$emit("click",e)},fetch:function(){var t=this;this.streamingUnsubscribe().then(this.getQuoteInfoData).then((function(e){t.streamingSubscribe({rics:e.map((function(t){return t["q.RIC"]})),fids:Object.keys(e[0])},t.handleSubscription,t.handleSnapshot,t.handleUpdate)})).catch((function(t){console.error(t)}))},getQuoteInfoData:function(){var t=this,e="/quote/info?rics="+this.rics+"&fids="+this.fids;return this.log("Requested:",this.rics,this.fids),d.a.Rest.get(e).catch((function(t){console.error(t)})).then((function(e){if(t.log("Data:",e.data.data),!e.data.data.length)return Promise.reject("nodata");e.data.data.forEach((function(e){var a=t.tickerElements.find((function(t){return t.ric===e["q.RIC"]}));a.name&&(e.name=a.name),a.img&&(e.img=a.img)})),t.res.data=e.data.data,t.log("Metadata",e.data.metadata),t.formats=Object.keys(e.data.metadata).reduce((function(t,a){return e.data.metadata[a].type?t[a]=e.data.metadata[a].type:t[a]="string",t}),{});for(var a=0;a<t.res.data.length;a++)t.formattedData[t.res.data[a]["q.RIC"]]=t.formatData(t.res.data[a],{},_);return e.data.data}))},handleSubscription:function(t,e){e&&console.error(e)},handleSnapshot:function(t,e){if(t=t.payload[0],e&&console.error(e),t){var a=this.res.data.find((function(e){return e["q.RIC"]===t.ric}));this.log("Streaming Snapshot: ",t.ric,t.data),Object.keys(t.data).forEach((function(e){return a[e]=t.data[e]})),this.formattedData[a["q.RIC"]]=this.formatData(a,{},_)}},handleUpdate:function(t,e){if(t=t.payload[0],e&&console.error(e),t){var a=this.res.data.find((function(e){return e["q.RIC"]===t.ric}));this.log("Streaming Update: ",t.ric,t.data),Object.keys(t.data).forEach((function(e){return a[e]=t.data[e]})),this.formattedData[a["q.RIC"]]=this.formatData(a,{},_)}},formatData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach((function(n){a[n]=e.$f(t[n],e.formats[n],(function(t){return i(t,e)}))})),a}}},ht=(a(572),Object(y.a)(ut,dt,[],!1,null,null,null));ht.options.__file="src/widgets/WTickerBand/WBody.vue";var gt={name:"w-ticker-band-wrapper",components:{WControlBar:lt,WBody:ht.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}},apiOnClick:{type:Function}},computed:{API:function(){return d.a},tickerElements:function(){return this.$store.state.widget[this.wid].tickerElements},truncateNames:function(){return this.$store.state.widget[this.wid].truncateNames}},methods:{onUpdateElements:function(t){this.$store.commit("widget/".concat(this.wid,"/ELEMENTS_CHANGED"),t)},onClick:function(t){this.$emit("click",t)}}},ft=(a(573),Object(y.a)(gt,nt,[],!1,null,null,null));ft.options.__file="src/widgets/WTickerBand/WWrapper.vue";var pt=ft.exports,mt={namespaced:!0,state:function(){return{tickerElements:[{ric:".OSEBX",name:"Oslo Børs",img:"https://www.financial.com/tmp/osebx.jpg"},{ric:"CLc1",name:"Oljepris",img:"https://www.financial.com/tmp/clc1.jpg"},{ric:".GDAXI",name:"Frankfurt DAX",img:"https://www.financial.com/tmp/gdaxi.jpg"},{ric:".NDX",name:"Nasdaq",img:"https://www.financial.com/tmp/ndx.jpg"}],truncateNames:!1}},mutations:{ELEMENTS_CHANGED:function(t,e){t.tickerElements=e}},actions:{},getters:{}};i.default.use(r.a);var vt="tickerBand";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var bt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper trends-widget",attrs:{role:"region","aria-label":"Trends Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,ric:this.ric}})],1)};bt._withStripped=!0;var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget-body w-trends-widget"},[t.isError?"nodata"===t.isError?a("div",{staticClass:"text-center p-3 error-message"},[t._v(t._s(t.i18n("messages.nodata")))]):a("div",{staticClass:"text-center p-3 error-message"},[t._v(t._s(t.i18n("messages.error")))]):[a("b-progress",{staticClass:"mb-1 b-progress",attrs:{max:t.parseValue(t.marketDigestData["q.ISSUES_ADV"])+t.parseValue(t.marketDigestData["q.ISSUES_UNC"])+t.parseValue(t.marketDigestData["q.ISSUES_DEC"]),height:"1rem"}},[a("b-progress-bar",{attrs:{variant:"success",value:t.parseValue(t.marketDigestData["q.ISSUES_ADV"])}}),t._v(" "),a("b-progress-bar",{attrs:{variant:"unchanged",value:t.parseValue(t.marketDigestData["q.ISSUES_UNC"])}}),t._v(" "),a("b-progress-bar",{attrs:{variant:"danger",value:t.parseValue(t.marketDigestData["q.ISSUES_DEC"])}})],1),t._v(" "),a("div",{staticClass:"d-flex justify-content-between progress-labels"},[a("div",{staticClass:"progress-label advancers",attrs:{tabindex:"0"}},[t._v("\n        "+t._s(t.i18n("progressBar.advancers"))+"\n        "),a("br"),t._v("\n        "+t._s(t.parseShownValue(t.marketDigestData["q.ISSUES_ADV"]))+"\n      ")]),t._v(" "),a("div",{staticClass:"progress-label unchanged",attrs:{tabindex:"0"}},[t._v("\n        "+t._s(t.i18n("progressBar.unchanged"))+"\n        "),a("br"),t._v("\n        "+t._s(t.parseShownValue(t.marketDigestData["q.ISSUES_UNC"]))+"\n      ")]),t._v(" "),a("div",{staticClass:"progress-label decliners",attrs:{tabindex:"0"}},[t._v("\n        "+t._s(t.i18n("progressBar.decliners"))+"\n        "),a("br"),t._v("\n        "+t._s(t.parseShownValue(t.marketDigestData["q.ISSUES_DEC"]))+"\n      ")])])],t._v(" "),t.isLoading?a("v-loader"):t._e()],2)};Ct._withStripped=!0;var _t={name:"w-trends-widget",mixins:[v,b],components:{VLoader:p.a},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}}},data:function(){return{debug:!1,isLoading:!1,isError:!1,formats:{},marketDigestData:{"q.ISSUES_ADV":null,"q.ISSUES_UNC":null,"q.ISSUES_DEC":null},debounceFunction:null}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},computed:{locale:function(){return this.$i18n.locale}},watch:{ric:function(){this.log("watch ric",this.ric),this.debounceFunction()},locale:function(){this.debounceFunction()}},methods:{i18n:function(t){return this.$t("trendsWidget.".concat(t))},parseValue:function(t){return Number.parseFloat(t)},parseShownValue:function(t){return null!==t&&isFinite(+t)&&"-0"!==t?this.formatData(t,_,{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}):"-"},fetch:function(){var t=this;this.log("fetching",this.ric.value),this.isError=!1,this.isLoading=!0,this.streamingUnsubscribe().then(this.getQuoteInfoData).then((function(){return t.streamingSubscribe({rics:[".AD"+t.ric.value],fids:Object.keys(t.marketDigestData).map((function(t){return t}))},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))},getQuoteInfoData:function(){var t=this,e={rics:[".AD"+this.ric.value],fids:Object.keys(this.marketDigestData).map((function(t){return t}))};return d.a.Rest.get("/quote/directquery?rics="+e.rics+"&fids="+e.fids).then((function(a,i){t.log("rest response: ",a),i?(t.isLoading=!1,t.isError=!0,console.error(i)):(Object.keys(t.marketDigestData).forEach((function(a){a in e&&(t.marketDigestData[a]=e[a])})),t.isLoading=!1,t.isError=!1)}))},handleSubscription:function(t,e){this.log("handle subscription",t),e&&(console.error(e),this.isLoading=!1,this.isError=e)},handleSnapshot:function(t,e){var a=this;if(this.log("handleSnapshot",t),e)this.isLoading=!1,this.isError=!0,console.error(e);else{var i=t.payload[0].data;0===i.length?(this.isLoading=!1,this.isError="nodata"):(Object.keys(this.marketDigestData).forEach((function(t){t in i&&(a.marketDigestData[t]=i[t])})),this.isLoading=!1,this.isError=!1)}},handleUpdate:function(t,e){var a=this;if(e)console.error(e),this.isLoading=!1,this.isError=!0;else{this.log("handleUpdate",t);var i=t.payload[0].data;Object.keys(this.marketDigestData).forEach((function(t){t in i&&(a.marketDigestData[t]=i[t])}))}},formatData:function(t,e,a){var i=this;return this.$f(t,this.formats,(function(t){return e(t,i,a)}))}}},wt=(a(574),Object(y.a)(_t,Ct,[],!1,null,"08f2aace",null));wt.options.__file="src/widgets/WTrends/WBody.vue";var yt={name:"w-trends-wrapper",components:{WBody:wt.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}}},computed:{API:function(){return d.a},ric:function(){return{label:"Ric",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),t)}}},Dt=(a(575),Object(y.a)(yt,bt,[],!1,null,null,null));Dt.options.__file="src/widgets/WTrends/WWrapper.vue";var St=Dt.exports,Et={namespaced:!0,state:function(){return{ric:".GDAXI"}},mutations:{RIC_CHANGED:function(t,e){t.ric=e}},actions:{},getters:{}},Ot=a(420);i.default.use(r.a);var Rt="trends";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var kt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper market-list-widget",attrs:{role:"region","aria-label":"Market List Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,rics:this.rics,chainRic:this.chainRic,columns:this.columns},on:{click:this.onClick}})],1)};kt._withStripped=!0;var Tt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:this.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body w-market-list-widget"},[e("b-container",{staticClass:"h-100",attrs:{fluid:""}},[e("b-row",{staticClass:"h-100"},[e("b-col",[e("ag-grid-vue",{staticClass:"c-data-grid ag-theme-balham",attrs:{animateRows:"",gridOptions:this.gridOptions,columnDefs:this.columnDefs,components:this.renderers,deltaRowDataMode:!0,rowSelection:"single"}})],1)],1)],1)],1)};Tt._withStripped=!0;var Nt=a(86),Mt=a(61),xt=a(53),Lt=function(){var t=this.$createElement;return(this._self._c||t)("v-tick-flash",{attrs:{value:this.params.valueFormatted}})};Lt._withStripped=!0;var Pt={name:"v-tick-flash-renderer",components:{VTickFlash:m.a},methods:{refresh:function(t){return t.value!==this.params.value&&(this.params=t),!0}}},Ht=Object(y.a)(Pt,Lt,[],!1,null,null,null);Ht.options.__file="src/components/custom/dataGrid/renderers/CTickFlashRenderer.vue";var It=Ht.exports,At=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"button-row"},t._l(t.params.colDef.buttons,(function(e,i){return a("button",{key:i,class:e.class?e.class:"button",style:e.style,on:{click:function(e){return t.invokeParentMethod(i,e)}}},[t._v("\n    "+t._s(e.label)+"\n  ")])})),0)};At._withStripped=!0;var qt={name:"v-custom-button-renderer",data:function(){return{params:null}},beforeMount:function(){},mounted:function(){},methods:{invokeParentMethod:function(t,e){var a=this.params.colDef.buttons,i=this.params.data["q.RIC"],n=a[t];this.params.context.componentParent.onClick({ric:i,button:n,origin:e,gridContext:this.params})},refresh:function(t){return t.value!==this.params.value&&(this.params=t),!0}}},Gt=Object(y.a)(qt,At,[],!1,null,null,null);Gt.options.__file="src/components/custom/dataGrid/renderers/CCustomButtonRenderer.vue";var Wt=Gt.exports;function jt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Ft(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var $t={name:"w-market-list-widget",mixins:[v,b],components:{VLoader:p.a,AgGridVue:Nt.AgGridVue,CTickFlashRenderer:It,CCustomButtonRenderer:Wt},directives:{resize:l.a},props:{wid:{type:String,required:!0},rics:{type:[String,Array],required:!0},chainRic:{type:String},columns:{type:Array,required:!0}},data:function(){var t=this;return{debug:!1,debounceFunction:null,gridOptions:{getRowNodeId:function(t){return t["q.RIC"]},headerHeight:+xt.agGridRowHeight,rowHeight:+xt.agGridRowHeight,defaultColDef:{valueFormatter:this.fidletValueFormatter,valueGetter:this.rawTypeValueGetter,resizable:!0,sortable:!0,minWidth:70,headerClass:"text-center",cellClass:"text-left",filter:!0,menuTabs:["filterMenuTab"]},columnTypes:{button:{headerClass:"text-center",cellClass:"text-center-no-padding",filter:!1,cellRendererFramework:"CCustomButtonRenderer",suppressSizeToFit:!0,sortable:!1},string:{cellClass:"text-left",filter:"agTextColumnFilter"},"string.exchange":{filter:"agTextColumnFilter"},"string.currency":{filter:"agTextColumnFilter"},time:{minWidth:70},date:{minWidth:70},int:{minWidth:70,cellClass:"text-right",filter:"agNumberColumnFilter"},float:{minWidth:70,cellClass:"text-right",filter:"agNumberColumnFilter"},"float.price":{minWidth:70,cellClass:"text-right",filter:"agNumberColumnFilter"},"float.price.change":{cellClassRules:Mt.a,cellClass:"text-right",cellRendererFramework:"CTickFlashRenderer",minWidth:70,filter:"agNumberColumnFilter"},"float.percentage":{minWidth:50,cellClass:"text-right",filter:"agNumberColumnFilter"},"float.percentage.change":{cellClassRules:Mt.a,cellClass:"text-right",cellRendererFramework:"CTickFlashRenderer",minWidth:50,filter:"agNumberColumnFilter"}},rowData:[],context:{componentParent:this},suppressFieldDotNotation:!0,suppressCellSelection:!0,suppressPropertyNamesCheck:!0,suppressDragLeaveHidesColumns:!0,rowSelection:"single",batchUpdateWaitMillis:500,localeTextFunc:function(e,a){var i="grid."+e,n=t.i18n(i);return n===i?a:n},onCellClicked:function(e){if("button"!==e.colDef.type){var a=e.data["q.RIC"];t.onClick({ric:a,origin:e.event,gridContext:e})}}},fidType:{}}},computed:{renderers:function(){return[It,Wt]},columnDefs:function(){var t=this,e=/i18n\(([\s\S]*)\)/,a=this.columns.map((function(a){var i=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?jt(a,!0).forEach((function(e){Ft(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jt(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a);return e.exec(i.headerName)&&(i.headerName=t.i18n(e.exec(i.headerName)[1])),t.fidType[i.field]&&!i.type&&(i.type=t.fidType[i.field]),i}));return a},fids:function(){var t=this.columnDefs.map((function(t){return t.field}));return-1===t.indexOf("q.RIC")&&t.push("q.RIC"),t}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{rics:function(){this.log("Ric(s) updated with:",this.rics),this.debounceFunction()},chainRic:function(){this.log("ChainRic updated with:",this.chainRic),this.debounceFunction()},columns:function(){this.log("Columns updated with:",this.columns),this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},onResize:function(){this.log("Grid reacts to resize: sizeColumnsToFit"),this.gridOptions.api&&this.gridOptions.api.sizeColumnsToFit()},onClick:function(t){this.$emit("click",t)},fetch:function(){var t=this;this.log("Fetching constituents data for:",this.rics),this.streamingUnsubscribe().then(this.prepareRics).then((function(e){return t.getConstituentsData(e)})).then((function(e){t.streamingSubscribe({rics:e.map((function(t){return t["q.RIC"]})),fids:Object.keys(e[0])},t.handleSubscription,t.handleSnapshot,t.handleUpdate)})).catch((function(t){console.error(t)}))},prepareRics:function(){var t=this;if(this.chainRic&&""!==this.chainRic){var e="/quote/storedchain?rics=".concat(encodeURIComponent(this.chainRic));return d.a.Rest.get(e).then((function(e){if(0===e.data.data.length)throw t.gridOptions.api.setRowData([]),new Error("NO_RICS_RECEIVED");return t.log("Received rics data:",e.data.data),e.data.data.map((function(t){return t.RIC}))}))}return this.rics},getConstituentsData:function(t){var e=this,a=Array.isArray(t)?"/quote/info?rics=".concat(t,"&fids=").concat(this.fids):"/index/constituents?ric=".concat(t,"&fids=").concat(this.fids);return d.a.Rest.get(a).then((function(t){if(0===t.data.data.length)throw e.gridOptions.api.setRowData([]),new Error("NO_CONSTITUENTS_RECEIVED");return e.log("Received constituents data:",t.data.data),e.fidType=Object.keys(t.data.metadata).reduce((function(e,a){return e[a]=t.data.metadata[a].type,e}),{}),e.gridOptions.api.setColumnDefs(e.columnDefs),e.gridOptions.api.setRowData(t.data.data),e.gridOptions.api.sizeColumnsToFit(),t.data.data}))},handleSubscription:function(t,e){e&&console.error(e),this.log("Subscription Response:",t,"Error:",e)},handleSnapshot:function(t,e){e&&console.error(e)},handleUpdate:function(t,e){t=t.payload[0],e&&console.error(e);try{var a=t.ric,i=t.data,n=this.gridOptions.api.getRowNode(a),r={};n&&(Object.keys(n.data).map((function(t){r[t]=n.data[t]})),Object.keys(i).map((function(t){r[t]=i[t]})),this.gridOptions.api.batchUpdateRowData({update:[r]}),this.log("Row update."))}catch(e){console.error(e)}},fidletValueFormatter:function(t){var e=t.colDef.field;return this.$f(t.value,this.fidType[e])},rawTypeValueGetter:function(t){var e=t.colDef.field,a=this.fidType[e].split(".")[0],i=t.data[e];switch(a){case"int":return parseInt(i);case"float":return parseFloat(i);default:return i}}}},Bt=(a(601),Object(y.a)($t,Tt,[],!1,null,null,null));Bt.options.__file="src/widgets/WMarketList/WBody.vue";var Vt={name:"w-market-list-wrapper",components:{WBody:Bt.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}}},computed:{API:function(){return d.a},rics:function(){return this.$store.state.widget[this.wid].rics},chainRic:function(){return this.$store.state.widget[this.wid].chainRic},columns:function(){return this.$store.state.widget[this.wid].columns}},mounted:function(){},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RICS_CHANGED"),t)},onUpdateRics:function(t){this.$store.commit("widget/".concat(this.wid,"/RICS_CHANGED"),t)},onUpdateChainRic:function(t){this.$store.commit("widget/".concat(this.wid,"/CHAIN_RIC_CHANGED"),t)},onClick:function(t){this.$emit("click",t)}}},Ut=(a(602),Object(y.a)(Vt,kt,[],!1,null,null,null));Ut.options.__file="src/widgets/WMarketList/WWrapper.vue";var zt=Ut.exports,Yt={namespaced:!0,state:function(){return{rics:".DJI",chainRic:"",columns:[{headerName:"i18n(custom.header.ticker)",field:"x._TICKER"},{headerName:"i18n(custom.header.name)",field:"q._DSPLY_NAME",minWidth:130},{headerName:"",field:"q.RIC",type:"button",buttons:[{id:"btn_01",label:"X01",style:"width: 40px; background-color: #ffd0d0"},{id:"btn_01",label:"X02",style:"width: 40px; background-color: #d0ffd0"},{id:"btn_01",label:"X03",style:"width: 40px; background-color: #d0d0ff"}],width:120},{headerName:"i18n(custom.header.price)",field:"q._TRDPRC_1",cellStyle:{"background-color":"#f7f2f4"}},{headerName:"i18n(custom.header.change)",field:"q._NETCHNG_1"},{headerName:"i18n(custom.header.changePercentage)",field:"q._PCTCHNG"},{headerName:"i18n(custom.header.bid)",field:"q._BID",cellStyle:{"background-color":"#f7f2f4"}},{headerName:"i18n(custom.header.ask)",field:"q._ASK",cellStyle:{"background-color":"#f7f2f4"}},{headerName:"i18n(custom.header.histClose)",field:"q._HST_CLOSE"},{headerName:"i18n(custom.header.time)",field:"q._TRDTIM_1"},{headerName:"i18n(custom.header.exchange)",field:"x._EXCHG_NAME"},{headerName:"i18n(custom.header.currency)",field:"x._CURRENCY"}]}},mutations:{RICS_CHANGED:function(t,e){t.rics=e},CHAIN_RIC_CHANGED:function(t,e){t.chainRic=e},COLUMNS_CHANGED:function(t,e){t.columns=e}},actions:{},getters:{}},Jt=a(421);i.default.use(r.a);var Kt="marketList";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var Xt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"widget widget-wrapper heatmap-widget",attrs:{role:"region","aria-label":"Heatmap Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,ric:this.ric,heatmapColors:this.heatmapColors}})],1)};Xt._withStripped=!0;var Qt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body w-heatmap-widget"},[a("v-widget-control-bar",{staticClass:"control-bar"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.i18n("controls.indicator")))]),t._v(" "),a("b-form-select",{attrs:{"aria-label":"Choose an indicator",value:t.controlIndicator},on:{change:function(e){return t.updateControl("indicator",e)}}},t._l(t.controlsOptions,(function(e){return a("optgroup",{key:e.groupName,attrs:{label:t.i18n("labels."+e.groupName)}},t._l(e.options,(function(e){return a("option",{key:e.fid,domProps:{value:e.fid}},[t._v("\n            "+t._s(t.i18n("labels."+e.label))+"\n          ")])})),0)})),0)],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.i18n("controls.size")))]),t._v(" "),a("b-form-select",{attrs:{"aria-label":"Choose a size",value:t.controlSize},on:{change:function(e){return t.updateControl("size",e)}}},[a("option",{attrs:{value:"equal"}},[t._v("All Equal")]),t._v(" "),a("optgroup",{attrs:{label:t.i18n("labels.tradeData")}},t._l(t.controlsOptions.find((function(t){return"tradeData"===t.groupName})).options,(function(e){return a("option",{key:e.fid,domProps:{value:e.fid}},[t._v(t._s(t.i18n("labels."+e.label)))])})),0)])],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-form-label"},[t._v(t._s(t.i18n("controls.sort")))]),t._v(" "),a("b-form-select",{attrs:{"aria-label":"Choose a sort",value:t.controlSort},on:{change:function(e){return t.updateControl("sort",e)}}},[a("option",{attrs:{value:"size"}},[t._v("Size")]),t._v(" "),a("option",{attrs:{value:"name._SHORTNAME"}},[t._v("Alphabetically")]),t._v(" "),t._l(t.controlsOptions,(function(e){return a("optgroup",{key:e.groupName,attrs:{label:t.i18n("labels."+e.groupName)}},t._l(e.options,(function(e){return a("option",{key:e.fid,domProps:{value:e.fid}},[t._v("\n            "+t._s(t.i18n("labels."+e.label))+"\n          ")])})),0)}))],2),t._v(" "),a("b-form-select",{staticClass:"ml-2",attrs:{"aria-label":"Choose a sort direction",value:t.controlSortDir},on:{change:function(e){return t.updateControl("sortDir",e)}}},[a("option",{attrs:{value:"asc"}},[t._v(t._s(t.i18n("labels.ASC")))]),t._v(" "),a("option",{attrs:{value:"desc"}},[t._v(t._s(t.i18n("labels.DESC")))])])],1)]),t._v(" "),t.isError?"nodata"===t.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],ref:"mapContainer",staticClass:"heatmap",attrs:{tabindex:"0"}},[a("div",{staticClass:"tooltip"})]),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};Qt._withStripped=!0;var Zt=a(939),te=a(76);function ee(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ae(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function ie(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ne={name:"w-heatmap-widget",mixins:[v,b],components:{VLoader:p.a,VWidgetInputSymbol:Zt.a,VWidgetControlBar:st.a},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label&&Array.isArray(t.value)}},heatmapColors:{type:Object}},data:function(){return{debug:!1,isError:!1,isLoading:!1,debounceFunction:null,controlsOptions:[{groupName:"performance",options:[{fid:"q._PCTCHNG",label:"performance"},{fid:"d._PCTCHG_1W",label:"performance oneWeek"},{fid:"d._PCTCHG_1M",label:"performance oneMonth"},{fid:"d._PCTCHG_1Y",label:"performance oneYear"}]},{groupName:"tradeData",options:[{fid:"d._VOLA_1W",label:"vola oneWeek"},{fid:"d._VOLA_1M",label:"vola oneMonth"},{fid:"d._VOLA_1Y",label:"vola oneYear"},{fid:"q._ACVOL_1",label:"tradedVolume"},{fid:"d._ACVOL_1W",label:"tradedVolume oneWeek"},{fid:"d._ACVOL_1M",label:"tradedVolume oneMonth"},{fid:"d._ACVOL_1Y",label:"tradedVolume oneYear"},{fid:"q._TURNOVER",label:"turnover"},{fid:"rkd.TOTALFLOAT_PCT",label:"freeFloat"},{fid:"rkd.MKTCAP",label:"marketCap"}]},{groupName:"fundamentals",options:[{fid:"rkd.EPS_CHANGE_CURRY_TO_LST1Y",label:"earningsChangePrevYear"},{fid:"rkd.EPS_TO_PRICE",label:"earningsYield"},{fid:"rkd.DPS_TO_PRICE",label:"dividendYield"},{fid:"rkd.PEG",label:"PEG"},{fid:"rkd.PRICE_TO_EPS_NXT1Y",label:"forwardPE"},{fid:"rkd.PRICE_TO_EPS",label:"PE"},{fid:"rkd.PRICE_TO_BVPS",label:"PB"},{fid:"rkd.PRICE_TO_CPS",label:"PC"},{fid:"rkd.PRICE_TO_NET_SALES",label:"PS"}]}],firstRender:!0,lastRenderTime:0,rawData:{},streamingFids:["q._PCTCHNG","q._TURNOVER","q._ACVOL_1"],tooltipEl:null,transitionLength:700,treemap:null,treemapModel:null,widgetViewportSize:[]}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},computed:{colorRange:function(){var t=this;return this.controlIndicator.includes("VOLA")?[this.heatmapColors.volatilityLow,this.heatmapColors.volatilityHigh]:this.controlsOptions.find((function(t){return"fundamentals"===t.groupName})).options.find((function(e){return e.fid===t.controlIndicator}))?[this.heatmapColors.fundamentalsLow,this.heatmapColors.fundamentalsHigh]:this.controlIndicator.includes("PCTCH")?[this.heatmapColors.changeNegative,this.heatmapColors.changeNeutral,this.heatmapColors.changePositive]:[this.heatmapColors.defaultLow,this.heatmapColors.defaultHigh]},controlIndicator:function(){return this.$store.state.widget[this.wid].indicator},controlRic:function(){return this.$store.state.widget[this.wid].ric},controlSize:function(){return this.$store.state.widget[this.wid].size},controlSort:function(){return this.$store.state.widget[this.wid].sort},controlSortDir:function(){return this.$store.state.widget[this.wid].sortDir},fids:function(){return["q.RIC","q._CURRENCY","q._TYPE","name._SHORTNAME"].concat(ie(this.controlsOptions.reduce((function(t,e){return t.push.apply(t,ie(e.options.map((function(t){return t.fid})))),t}),[])))},tooltipFids:function(){return[this.controlIndicator,this.controlSize,this.controlSort].reduce((function(t,e){return/^(?!name)\w+\./.test(e)&&!t.includes(e)&&t.push(e),t}),[])}},mounted:function(){this.treemap=te.treemap(),this.setHeatmapSize(),this.tooltipEl=this.$el.querySelector(".tooltip"),this.debounceFunction()},beforeDestroy:function(){},watch:ae({ric:function(){this.debounceFunction()}},"$store.state.i18n.locale",(function(){this.renderData()})),methods:{i18n:function(t,e,a){var i=this,n=t.lastIndexOf(".")+1,r=t.substr(0,n);return t.substr(n).split(" ").map((function(t){return i.$t("".concat(i.wid+"Widget",".").concat(r+t),a)})).join(" ")},onResize:function(){this.setHeatmapSize(),this.renderData()},setHeatmapSize:function(){var t=this.$el.querySelector(".heatmap");this.heatmapViewportSize={width:t.offsetWidth,height:t.offsetHeight},this.treemap.size([this.heatmapViewportSize.width-1,this.heatmapViewportSize.height])},updateControl:function(t,e){this.$store.commit("widget/".concat(this.wid,"/").concat(t.toUpperCase(),"_CHANGED"),e),"ric"===t?this.fetch():this.debounceFunction()},fetch:function(){var t=this,e=[this.controlIndicator,this.controlSize,this.controlSort];this.streamingUnsubscribe().then(this.getRestData).then((function(){return t.streamingSubscribe({rics:Object.keys(t.rawData),fids:e},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))},getRestData:function(){var t=this;return d.a.Rest.get("/index/constituents?ric=".concat(this.controlRic,"&fids=")+this.fids).then((function(e){if(t.log("fetch",e),!e.data.data.length)return t.isError="nodata",t.isLoading=!1,!1;t.rawData=e.data.data.reduce((function(t,e){return t[e["q.RIC"]]=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ee(a,!0).forEach((function(e){ae(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},e),t}),{}),t.formats=Object.keys(e.data.metadata).reduce((function(t,a){return t[a]=e.data.metadata[a].type,t}),{}),t.renderData()}))},handleSubscription:function(t,e){e&&console.error(e)},handleSnapshot:function(t,e){e&&console.error(e)},handleUpdate:function(t,e){e&&(this.isError=!0,this.isLoading=!1,console.error("Streaming Update",e)),t&&(t=t.payload[0],Object.assign(this.rawData[t.ric],t.data),Date.now()-this.lastRenderTime>=this.transitionLength+50&&this.renderData())},formatFid:function(t,e){var a=this.$f(e[t],this.formats[t]),i=a;if(!isNaN(a)){"rkd.MKTCAP"===t&&(a*=1e6);var n=Math.floor((String(a).match(/\d+/)[0].length-1)/3),r=n>1?5:6;n>1&&(i=a/Math.pow(1e3,n));var s=Math.pow(10,Math.min(3,r-String(i).match(/\d+/)[0].length));i=Math.round(i*s)/s,n>1&&(i+=" "+this.i18n("short."+(2===n?"millions":"billions"),"globalLabels"))}return["q._TURNOVER","rkd.MKTCAP"].includes(t)&&(i+=" "+("EUR"===e["q._CURRENCY"]?"€":"$")),i},renderData:function(){var t=this,e=[0,0],a={name:"heatmap",children:[]};Object.values(this.rawData).forEach((function(i){a.children.push({indicator:+i[t.controlIndicator],indicatorFormatted:t.formatFid(t.controlIndicator,i),ric:i["q.RIC"],name:i["name._SHORTNAME"],size:"equal"===t.controlSize?1:isNaN(i[t.controlSize])?0:+i[t.controlSize]}),isNaN(i[t.controlIndicator])||(+i[t.controlIndicator]<e[0]?e[0]=+i[t.controlIndicator]:e[1]=Math.max(e[1],+i[t.controlIndicator]))})),this.treemapModel=this.treemap(te.hierarchy(a).sum((function(t){return t.size})).sort((function(e,a){var i="size"===t.controlSort?t.controlSize:t.controlSort;return"name._SHORTNAME"===i?te[t.controlSortDir+"ending"](t.rawData[e.data.ric][i],t.rawData[a.data.ric][i]):te[t.controlSortDir+"ending"](isNaN(t.rawData[e.data.ric][i])?0:+t.rawData[e.data.ric][i],isNaN(t.rawData[a.data.ric][i])?0:+t.rawData[a.data.ric][i])})));var i=te.select(this.$refs.mapContainer).selectAll(".node").data(this.treemapModel.children,(function(t){return t.data.ric})).join((function(e){var a=e.append("div").classed("node",!0).style("opacity","0").on("mouseenter mouseleave mousemove",t.handleTileMouseEvents).on("click",(function(e){return t.onCellClicked(e)}));return a.append("div").classed("name",!0),a.append("div").classed("value",!0),a}),(function(t){return t}),(function(e){e.transition().duration(t.transitionLength).style("width","0px").style("height","0px").style("left","0px").style("top","0px").style("opacity","0").remove()}));i&&(i.transition().duration(this.firstRender?0:this.transitionLength).style("left",(function(t){return t.x0+"px"})).style("top",(function(t){return t.y0+"px"})).style("width",(function(t){return t.x1-t.x0+"px"})).style("height",(function(t){return t.y1-t.y0+"px"})).style("opacity","1").style("background-color",(function(a){return te.scaleLinear().domain(3===t.colorRange.length?[e[0],0,e[1]]:e).range(t.colorRange).clamp(!0)(isNaN(a.data.indicator)?0:a.data.indicator)})).each((function(t,e,a){var i=t.x1-t.x0,n=t.y1-t.y0,r=a[e].querySelector(".name");r.innerText=i>60?t.data.name:t.data.ric.split(".")[0].substr(0,Math.floor((i-10)/8));var s=r.offsetHeight;i>60&&s>18&&n-s<18&&(r.innerText=t.data.ric.split(".")[0]);var o=n-r.offsetHeight>17&&i>40?t.data.indicatorFormatted:"";a[e].querySelector(".value").innerText=o})),this.firstRender=!1,this.lastRenderTime=Date.now())},handleTileMouseEvents:function(t){var e=this;switch(te.event.type){case"mouseenter":this.tooltipEl.innerHTML="\n            <div>".concat(t.data.name," <span>(").concat(t.data.ric,")</span></div>\n              ").concat(this.tooltipFids.map((function(a){var i=!0,n=!1,r=void 0;try{for(var s,o=e.controlsOptions[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var c=s.value,l=!0,d=!1,u=void 0;try{for(var h,g=c.options[Symbol.iterator]();!(l=(h=g.next()).done);l=!0){var f=h.value;if(f.fid===a)return"<div>".concat(e.i18n("labels."+f.label),": ").concat(e.formatFid(a,e.rawData[t.data.ric]),"</div>")}}catch(t){d=!0,u=t}finally{try{l||null==g.return||g.return()}finally{if(d)throw u}}}}catch(t){n=!0,r=t}finally{try{i||null==o.return||o.return()}finally{if(n)throw r}}})).join("\n"),"\n          "),this.tooltipEl.style.opacity=1,this.tooltipEl._dimensions={width:this.tooltipEl.offsetWidth,height:this.tooltipEl.offsetHeight};case"mousemove":var a=t.x1+7;a+this.tooltipEl._dimensions.width>this.heatmapViewportSize.width&&(a=t.x0-this.tooltipEl._dimensions.width-7);var i=Math.min(this.heatmapViewportSize.height-this.tooltipEl._dimensions.height,Math.max(0,t.y0+te.event.offsetY-this.tooltipEl._dimensions.height/2));this.tooltipEl.style.left=a+"px",this.tooltipEl.style.top=i+"px";break;case"mouseleave":this.tooltipEl.style.opacity=0}},onCellClicked:function(t){this.$emit("click",t)}}},re=(a(603),Object(y.a)(ne,Qt,[],!1,null,null,null));re.options.__file="src/widgets/WHeatmap/WBody.vue";var se={name:"w-heatmap-wrapper",components:{WBody:re.exports},props:{wid:{type:String,required:!0}},computed:{API:function(){return d.a},ric:function(){return{label:"RIC",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}},heatmapColors:function(){return this.$store.state.widget[this.wid].heatmapColors}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),[t])},onUpdateColors:function(t){this.$store.commit("widget/".concat(this.wid,"/COLORS_CHANGED"),[t])}}},oe=(a(604),Object(y.a)(se,Xt,[],!1,null,null,null));oe.options.__file="src/widgets/WHeatmap/WWrapper.vue";var ce=oe.exports,le={namespaced:!0,state:function(){return{indicator:"q._PCTCHNG",ric:[".GDAXI"],size:"rkd.MKTCAP",sort:"q._PCTCHNG",sortDir:"desc",heatmapColors:{volatilityLow:"#b80870",volatilityHigh:"#f637a8",fundamentalsLow:"#b75b00",fundamentalsHigh:"#ff7f00",changeNegative:"#a65549",changeNeutral:"#e6e6e6",changePositive:"#0489bc",defaultLow:"#009db5",defaultHigh:"#00ccea"}}},mutations:{INDICATOR_CHANGED:function(t,e){t.indicator=e},RIC_CHANGED:function(t,e){t.ric=e},SIZE_CHANGED:function(t,e){t.size=e},SORT_CHANGED:function(t,e){t.sort=e},SORTDIR_CHANGED:function(t,e){t.sortDir=e},COLORS_CHANGED:function(t,e){t.heatmapColors=Object.assign(t.heatmapColors,e)}},actions:{},getters:{}},de=a(423);i.default.use(r.a);var ue="heatmap";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget widget-wrapper order-book-widget",attrs:{role:"region","aria-label":"Order Book",tabindex:"0"}},[a("w-body",{attrs:{wid:t.wid,ric:t.ric,results:t.results,snapJWT:t.snapJWT,hasButtons:t.hasButtons},on:{buy:t.onBuy,sell:t.onSell,JWTSuccess:t.apiOnJWTSuccess,JWTFailure:t.apiOnJWTFailure}})],1)};he._withStripped=!0;var ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],ref:"orderBook",staticClass:"widget-body w-order-book-widget"},[t.tablesConfig.isError?"nodata"===t.tablesConfig.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("ag-grid-vue",{staticClass:"c-data-grid ag-theme-balham",attrs:{animateRows:"",suppressFieldDotNotation:"",suppressMenu:"",suppressDragLeaveHidesColumns:"",suppressMovable:"",lockPosition:"",suppressSortable:"",defaultColDef:t.defaultColumnDef,columnDefs:t.columnDefs,components:t.renderers,gridOptions:t.tablesConfig.gridOptions}}),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};ge._withStripped=!0;var fe=a(945),pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-tick-flash",{attrs:{value:t.params.value}},[a("div",{staticClass:"mini-buy-button",style:"left"===t.button.align?"flex-direction:row":"flex-direction: row-reverse"},[a("button",{staticClass:"button",class:t.button.class},[t._v(t._s(t.button.label))]),t._v(" "),a("div",{staticClass:"price"},[t._v(t._s(t.params.value))])])])};pe._withStripped=!0;var me={name:"hover-button-renderer",components:{VTickFlash:m.a},data:function(){return{value:{},button:{align:"left",class:"button--buy",label:"K"}}},mounted:function(){this.params.colDef.cellRendererParams&&(this.button=this.params.colDef.cellRendererParams)},methods:{refresh:function(t){return t.value!==this.params.value&&(this.params=t),!0}}},ve=(a(605),Object(y.a)(me,pe,[],!1,null,"2eeef01e",null));ve.options.__file="src/components/custom/dataGrid/renderers/CHoverButtonRenderer.vue";var be=ve.exports,Ce=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("c-two-sided-bar-chart",{staticStyle:{height:"15px"},attrs:{pctLeft:this.params.data.twoSidedBarChart.pctLeft,pctRight:this.params.data.twoSidedBarChart.pctRight}})],1)};Ce._withStripped=!0;var _e=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%"}},[e("div",{staticClass:"c-two-sided-bar-chart h-100 w-50",style:{background:"linear-gradient(-90deg, "+this.colorLeft+" "+this.pctLeft+"%, transparent 0%) !important"}}),this._v(" "),e("div",{staticClass:"c-two-sided-bar-chart h-100 w-50",style:{background:"linear-gradient(90deg, "+this.colorRight+" "+this.pctRight+"%, transparent 0%) !important"}})])};_e._withStripped=!0;var we={name:"c-two-sided-bar-chart",props:{pctLeft:{type:Number,required:!0},pctRight:{type:Number,required:!0},colorLeft:{type:String,default:"#0489bc"},colorRight:{type:String,default:"#a65549"}},computed:{}},ye=(a(606),Object(y.a)(we,_e,[],!1,null,"68cf4c81",null));ye.options.__file="src/components/custom/CTwoSidedBarChart.vue";var De={name:"two-sided-bar-chart-renderer",components:{CTwoSidedBarChart:ye.exports},data:function(){return{value:{}}},methods:{refresh:function(t){return console.log(t),this.params.data.twoSidedBarChart.pctLeft=t.data.changePercentage.pctLeft,console.log(this.params.twoSidedBarChart),this.params.data.twoSidedBarChart.pctRight=t.data.changePercentage.pctRight,!0}}},Se=Object(y.a)(De,Ce,[],!1,null,"fd75519c",null);Se.options.__file="src/components/custom/dataGrid/renderers/CTwoSidedBarChartRenderer.vue";var Ee=Se.exports,Oe=a(424),Re=a.n(Oe);function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Ne(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Te(a,!0).forEach((function(e){Me(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Me(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var xe={name:"w-order-book-widget",mixins:[v,{methods:{fetchSnapData:function(t,e){var a=this,i="https://dory-staging.financial.com/rest/api".concat(e,"&__ts=").concat((new Date).getTime()),n={headers:{"Content-Type":"application/json",Accept:"application/json",jwt:t}};return Re.a.get(i,n).then((function(t){return a.$emit("JWTSuccess"),t})).catch((function(t){a.$emit("JWTFailure",t)}))}}}],components:{VLoader:p.a,AgGridVue:Nt.AgGridVue,VPerformanceRenderer:fe.a,CHoverButtonRenderer:be,CTwoSidedBarChartRenderer:Ee},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.value&&"string"==typeof t.label}},results:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},hasButtons:{type:Boolean,default:!0},snapJWT:{type:String,required:!1,default:null}},data:function(){return{debug:!1,isLoading:!1,formats:{},tablesConfig:{gridOptions:{headerHeight:+xt.agGridRowHeight,rowHeight:+xt.agGridRowHeight,getRowNodeId:this.getRowNodeId},isError:!1,isLoading:!0,pollingTimeout:0,subscriptionId:null},defaultColumnDef:{minWidth:50,width:60,headerClass:"text-center",cellClass:"text-center",suppressMovable:!0,resizable:!1,editable:!1,rowDrag:!1,sortable:!1},debounceFunction:null}},computed:{columns:function(){return[{field:"num_bid",headerName:"table.numBid",cellClass:"text-right"},{field:"bid_size",headerName:"table.bidSize",cellClass:"text-right"},{field:"bid",headerName:"table.bid",cellClass:this.hasButtons?"text-right price-col":"text-right",cellRendererFramework:this.hasButtons?"CHoverButtonRenderer":"",cellRendererParams:{class:"button--sell",align:"left",label:this.i18n("buttons.sell")},onCellClicked:this.onCellClicked,minWidth:50},{field:"orderBook",headerName:"table.volumes",cellClass:"text-right md-volume-full-height",cellClassRules:Mt.a,cellRendererFramework:"CTwoSidedBarChartRenderer",minWidth:65},{field:"ask",headerName:"table.ask",cellClass:this.hasButtons?"text-left price-col":"text-left",cellRendererFramework:this.hasButtons?"CHoverButtonRenderer":"",cellRendererParams:{class:"button--buy",align:"right",label:this.i18n("buttons.buy")},onCellClicked:this.onCellClicked,minWidth:50},{field:"ask_size",headerName:"table.askSize",cellClass:"text-left"},{field:"num_ask",headerName:"table.numAsk",cellClass:"text-left"}]},columnDefs:function(){var t=this;return this.columns.map((function(e){return Object.assign({},e,{headerName:t.i18n(e.headerName)})}))},renderers:function(){return[be,fe.a,Ee]}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},beforeDestroy:function(){},watch:{ric:function(){this.log("watch ric"),this.debounceFunction()},results:function(){this.log(" watch results"),this.debounceFunction()},snapJWT:function(){this.log(" watch snapJWT"),this.debounceFunction()},hasButtons:function(){this.log("hasButtons changed",this.hasButtons),this.tablesConfig.gridOptions.api.setColumnDefs(this.columnDefs),this.tablesConfig.gridOptions.api.sizeColumnsToFit()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},getRowNodeId:function(t){return t.level},onResize:function(){this.tablesConfig.gridOptions.columnApi&&(this.$refs.orderBook.clientWidth<=450?this.tablesConfig.gridOptions.columnApi.setColumnsVisible(["num_bid","num_ask"],!1):this.tablesConfig.gridOptions.columnApi.setColumnsVisible(["num_bid","num_ask"],!0)),this.tablesConfig.gridOptions.api&&this.tablesConfig.gridOptions.api.sizeColumnsToFit()},onCellClicked:function(t){if(this.hasButtons){var e={data:t.data,origin:t};"bid"===t.column.colId||"bid_1"===t.column.colId?this.$emit("sell",e):"ask"!==t.column.colId&&"ask_1"!==t.column.colId||this.$emit("buy",e)}},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(this.isLoading=!0),this.tablesConfig.isError=!1,null!==this.snapJWT?(this.log("fetching snap mode",this.snapJWT),this.fetchSnapData(this.snapJWT,"/marketdepth/orderbook/?ric=".concat(this.ric.value)).then((function(e){e?t.handleRestResponse(e):t.getMarketDepthData().then(t.handleRestResponse)}))):(this.log("fetching standard mode",this.snapJWT),this.getMarketDepthData().then(this.handleRestResponse))},getMarketDepthData:function(){return d.a.Rest.get("/marketdepth/orderbook/?ric=".concat(this.ric.value))},handleRestResponse:function(t){var e=this;if(this.log("Fetch result",t),0===t.data.data.length||"n.a."===t.data.data[0].bid)this.tablesConfig.isError="nodata",this.loading=!1;else{var a=this.processData(t.data.data),i=[];a.forEach((function(t){var a=e.parseDataToRowNode(t);i.push(a)})),this.log("Rows built for grid",i),i=i.slice(0,this.results.value),i=this.calculateOrderBook(i),this.tablesConfig.gridOptions.api.setRowData(i),this.tablesConfig.gridOptions.api.sizeColumnsToFit(),this.isLoading=!1}},processData:function(t){var e=this;return t.map((function(t){return Ne({},t,{ask:e.parseValue(t.ask,"float.price"),bid:e.parseValue(t.bid,"float.price"),ask_size:e.parseValue(t.ask_size,"float"),bid_size:e.parseValue(t.bid_size,"float"),num_ask:e.parseValue(t.num_ask,"float"),num_bid:e.parseValue(t.num_bid,"float")})}))},calculateOrderBook:function(t){var e=Math.max.apply(Math,t.map((function(t){return t.ask_size}))),a=Math.max.apply(Math,t.map((function(t){return t.bid_size}))),i=Math.max(e,a);return t.map((function(t){return Ne({},t,{twoSidedBarChart:{pctLeft:t.bid_size/i*100,pctRight:t.ask_size/i*100}})}))},parseValue:function(t,e){return this.$f(t,e)},parseDataToRowNode:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach((function(i){"object"!==ke(t[i])?a[i]=e.$f(t[i],e.formats[i]):a[i]=t[i]})),a}}},Le=(a(623),Object(y.a)(xe,ge,[],!1,null,null,null));Le.options.__file="src/widgets/WOrderBook/WBody.vue";var Pe={name:"w-order-book-wrapper",components:{WBody:Le.exports},props:{wid:{type:String,required:!0},apiOnBuy:{type:Function},apiOnSell:{type:Function}},computed:{API:function(){return d.a},ric:function(){return{label:"RIC",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}},results:function(){return{label:"Results",value:this.$store.state.widget[this.wid].results}},snapJWT:function(){return this.$store.state.widget[this.wid].snapJWT},hasButtons:function(){return this.$store.state.widget[this.wid].hasButtons}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),t)},onUpdateResults:function(t){this.$store.commit("widget/".concat(this.wid,"/RESULTS_CHANGED"),t)},onUpdateHasButtons:function(t){this.$store.commit("widget/".concat(this.wid,"/HAS_BUTTONS_CHANGED"),t)},onBuy:function(t){this.$emit("buy",t)},onSell:function(t){this.$emit("sell",t)},apiOnJWTSuccess:function(){this.$emit("JWTSuccess")},apiOnJWTFailure:function(t){this.$emit("JWTFailure",t)}}},He=(a(624),Object(y.a)(Pe,he,[],!1,null,null,null));He.options.__file="src/widgets/WOrderBook/WWrapper.vue";var Ie=He.exports,Ae={namespaced:!0,state:function(){return{ric:"BMWG.DE",results:5,hasButtons:!0,snapJWT:null}},mutations:{RIC_CHANGED:function(t,e){t.ric=e},RESULTS_CHANGED:function(t,e){t.results=e},HAS_BUTTONS_CHANGED:function(t,e){t.hasButtons=e},SNAP_MODE_CHANGED:function(t,e){t.snapJWT=e}},actions:{},getters:{}},qe=a(425);i.default.use(r.a);var Ge="orderBook";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var We=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"widget widget-wrapper",attrs:{role:"region","aria-label":"Instrument Info",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,ric:this.ric,columns:this.columns,buttons:this.buttons,truncateNames:this.truncateNames},on:{click:this.onClick}})],1)};We._withStripped=!0;var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-widget-control-bar",[a("v-widget-input-symbol",{attrs:{label:t.ric.label,api:t.api,value:[t.ric.value],autocompleteInstruments:["Index"],maxTags:1},on:{input:function(e){return t.$emit("updateRic",e[0])}}})],1)};je._withStripped=!0;var Fe={name:"w-instrument-info-control-bar",components:{VWidgetControlBar:st.a,VWidgetInputSymbol:Zt.a},props:{api:{type:Object,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label&&"string"==typeof t.placeholder&&"string"==typeof t.value}}}},$e=Object(y.a)(Fe,je,[],!1,null,null,null);$e.options.__file="src/widgets/WInstrumentInfo/WControlBar.vue";var Be=$e.exports,Ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget-body w-instrument-info-widget"},[t.isError?"nodata"===t.isError?a("div",{staticClass:"p-3 error-message err-nodata",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message err-intern",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("section",{staticClass:"render-area"},[a("div",{staticClass:"overflow"},t._l(t.res.data,(function(e){return a("div",{key:e["q.RIC"],attrs:{"data-ric":e["q.RIC"]}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-4"},[a("div",[a("span",{staticClass:"strong",class:{truncate:t.truncateNames},attrs:{title:e["x._TICKER"]}},[a("b",[t._v(t._s(e["x._TICKER"]))])]),t._v("\n               \n              "),a("small",{staticClass:"display-name",class:{truncate:t.truncateNames},attrs:{title:e["q._DSPLY_NAME"]}},[t._v("\n                "+t._s(e["q._DSPLY_NAME"])+"\n              ")])]),t._v(" "),a("div",{class:{greaterDiv:e["q._PCTCHNG"]>0,lessDiv:e["q._PCTCHNG"]<0}},[a("span",[a("v-fidlet",{attrs:{data:e["q._TRDPRC_1"],type:t.res.type["q._TRDPRC_1"]}}),t._v(" "),a("font-awesome-icon",{staticClass:"arrow",class:{greater:e["q._PCTCHNG"]>0,less:e["q._PCTCHNG"]<0},attrs:{icon:["fas","arrow-alt-right"]}}),t._v(" "),a("span",{attrs:{title:e["x._CURRENCY"]}},[t._v(t._s(e["x._CURRENCY"]))]),t._v(" "),a("v-fidlet",{attrs:{data:e["q._NETCHNG_1"],type:t.res.type["q._NETCHNG_1"]}}),t._v("(\n                "),a("v-fidlet",{attrs:{data:e["q._PCTCHNG"],type:t.res.type["q._PCTCHNG"]}}),t._v(")\n              ")],1)]),t._v(" "),a("div",[a("span",[t._v(t._s(t.getFullDateForm(e)))]),t._v("\n              "+t._s(e["x._EXCHG_NAME"])+"\n            ")])]),t._v(" "),a("div",{staticClass:"btn-grp col-sm-12 col-md-8"},t._l(t.buttons,(function(e){return a("button",{key:e.id,staticClass:"btn btn-primary",class:e.class?e.class:"button",style:e.style,attrs:{type:"button","data-key":e.id},on:{click:function(e){return t.onButtonClick(e,t.ric)}}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),0)]),t._v(" "),a("div",{staticClass:"row cut-table d-xl-none"},t._l(t.columns,(function(i){return a("div",{key:i.field,staticClass:"col-sm-6 col-md-4"},[a("label",[t._v(t._s(t.i18n(i.headerName)))]),t._v(" "),"q._TRDTIM_1"!==i.field?a("v-tick-flash",{class:{vgreater:e[i.field]>0,vless:e[i.field]<0},attrs:{value:t.$f(e[i.field],t.res.type[i.field])}}):a("v-fidlet",{attrs:{data:e[i.field],type:t.res.type[i.field]}})],1)})),0),t._v(" "),a("div",{staticClass:"row d-none d-xl-block"},[a("div",{staticClass:"col-xl-12"},[a("table",{staticClass:"table tlb-view"},[a("thead",[a("tr",t._l(t.columns,(function(e){return a("th",{key:e.field},[t._v(t._s(t.i18n(e.headerName)))])})),0)]),t._v(" "),a("tbody",[a("tr",t._l(t.columns,(function(i){return a("td",{key:i.field},["q._TRDTIM_1"!==i.field?a("v-tick-flash",{class:{vgreater:e[i.field]>0,vless:e[i.field]<0},attrs:{value:t.$f(e[i.field],t.res.type[i.field])}}):a("v-fidlet",{attrs:{data:e[i.field],type:t.res.type[i.field]}})],1)})),0)])])])])])})),0)]),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};Ve._withStripped=!0;var Ue=function(t,e,a,i){var n=new Date(t);return n.setDate(n.getDate()+e),n.setMonth(n.getMonth()+a),n.setFullYear(n.getFullYear()+i),n},ze=function(t,e){var a=Ue;switch(e){case"D":case"1D":return a(t,0,0,0);case"2D":return a(t,-2,0,0);case"3D":return a(t,-3,0,0);case"4D":return a(t,-4,0,0);case"5D":return a(t,-5,0,0);case"10D":return a(t,-10,0,0);case"W":case"1W":return a(t,-7,0,0);case"2W":return a(t,-14,0,0);case"M":case"1M":return a(t,0,-1,0);case"3M":return a(t,0,-3,0);case"6M":return a(t,0,-6,0);case"Y":case"1Y":return a(t,0,0,-1);case"2Y":return a(t,0,0,-2);case"3Y":return a(t,0,0,-3);case"5Y":return a(t,0,0,-5);case"10Y":return a(t,0,0,-10);case"20Y":return a(t,0,0,-20);case"YTD":return new Date(t.getFullYear(),0,1);default:return null}},Ye=function(t){return Date.parse(new Date(t).toUTCString())},Je=function(t){return{jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11}[t.toLowerCase()]},Ke=a(936),Xe=a(937),Qe=a(940);function Ze(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function ta(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}u.c.add(h.a);var ea={name:"w-instrument-info-widget",mixins:[v,b],components:{VLoader:p.a,VTickFlash:m.a,FontAwesomeIcon:g.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},columns:{type:Array,required:!0},buttons:{type:Array,required:!0},truncateNames:{type:Boolean,required:!0}},data:function(){return{debug:!1,isError:!1,isLoading:!1,fids:["q.RIC","x._TICKER","q._DSPLY_NAME","q._TRDPRC_1","x._CURRENCY","q._NETCHNG_1","q._PCTCHNG","q._TRDTIM_1","q._TRADE_DATE","x._EXCHG_NAME","q._ASK","q.ASKSIZE","q._BID","q.BIDSIZE","q._HST_CLOSE","q._OPEN_PRC","q._LOW_1","q._HIGH_1","q._ACVOL_1","q.LOT_SIZE"],res:{data:[],type:{}},debounceFunction:null}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{ric:function(){this.log("Updated with:",this.ric.value),this.debounceFunction()}},methods:{onButtonClick:function(t,e){this.$emit("click",function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ze(a,!0).forEach((function(e){ta(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({event:t},{ric:e.value}))},parseDate:function(t,e){var a=t.split(" "),i=e.split(":");return new Date(a[2],Je(a[1]),a[0],i[0],i[1],i[2])},getFullDateForm:function(t){var e=this.parseDate(t["q._TRADE_DATE"],t["q._TRDTIM_1"]),a=e.getTimezoneOffset(),i=Object(Ke.a)(Object(Xe.a)(e,-1*a));return Object(Qe.a)(new Date(i),"HH:mm:ss")},i18n:function(t){return this.$t("instrumentInfo.header.".concat(t.toLowerCase()))},fetch:function(){var t=this;this.streamingUnsubscribe().then(this.getQuoteInfoData).then((function(){t.log(t.res),t.streamingSubscribe({rics:t.res.data.map((function(t){return t["q.RIC"]})),fids:Object.keys(t.res.data[0])},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))},getQuoteInfoData:function(){var t=this,e="/quote/info?rics="+this.ric.value+"&fids="+this.fids;return d.a.Rest.get(e).then((function(e){return t.log("Data:",e.data.data),e.data.data.length?(t.res={data:e.data.data,type:Object.keys(e.data.metadata).reduce((function(t,a){return t[a]=e.data.metadata[a].type,t}),{})},t.res.data):(t.isError="nodata",t.isLoading=!1,!1)})).catch((function(t){console.error(t)}))},handleSubscription:function(t,e){e&&(this.isLoading=!1,this.isError=!0,console.error(e))},handleSnapshot:function(t,e){if(e&&console.error(e),t=t.payload[0]){var a=this.res.data.find((function(e){return e["q.RIC"]==t.ric}));this.log("Streaming Snapshot: ",t.ric,t.data),Object.keys(t.data).forEach((function(e){return a[e]=t.data[e]}))}},handleUpdate:function(t,e){if(e&&console.error(e),t=t.payload[0]){var a=this.res.data.find((function(e){return e["q.RIC"]==t.ric}));this.log("Streaming Update: ",t.ric,t.data),Object.keys(t.data).forEach((function(e){return a[e]=t.data[e]}))}}}},aa=(a(625),Object(y.a)(ea,Ve,[],!1,null,null,null));aa.options.__file="src/widgets/WInstrumentInfo/WBody.vue";var ia={name:"w-instrument-info-wrapper",components:{WControlBar:Be,WBody:aa.exports},props:{wid:{type:String,required:!0},apiOnClick:{type:Function}},computed:{API:function(){return d.a},ric:function(){return{label:"Ric",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}},buttons:function(){return this.$store.state.widget[this.wid].buttons},columns:function(){return this.$store.state.widget[this.wid].columns},truncateNames:function(){return this.$store.state.widget[this.wid].truncateNames}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RICS_CHANGED"),t)},onClick:function(t){this.$emit("click",t)}}},na=(a(626),Object(y.a)(ia,We,[],!1,null,null,null));na.options.__file="src/widgets/WInstrumentInfo/WWrapper.vue";var ra=na.exports,sa={namespaced:!0,state:function(){return{ric:"BMWG.DE",columns:[{headerName:"bid",field:"q._BID"},{headerName:"bidsize",field:"q.BIDSIZE"},{headerName:"seller",field:"q._ASK"},{headerName:"asksize",field:"q.ASKSIZE"},{headerName:"end",field:"q._HST_CLOSE"},{headerName:"opening",field:"q._OPEN_PRC"},{headerName:"high",field:"q._HIGH_1"},{headerName:"low",field:"q._LOW_1"},{headerName:"totvol",field:"q._ACVOL_1"},{headerName:"currency",field:"x._CURRENCY"},{headerName:"time",field:"q._TRDTIM_1"},{headerName:"roundlot",field:"q.LOT_SIZE"}],buttons:[{id:"btn_01",label:"X01",style:"background-color: #4f6b06; color:#fff;border:1px solid #4d5210;"},{id:"btn_02",label:"X02",class:"btn-info"},{id:"btn_03",label:"X03",style:"background-color: #90589c; color:#fff;border:1px solid #5d1577;"}],truncateNames:!1}},mutations:{RICS_CHANGED:function(t,e){t.ric=e},COLUMNS_CHANGED:function(t,e){t.columns=e},BUTTONS_CHANGED:function(t,e){t.buttons=e}},actions:{},getters:{}},oa=a(427);i.default.use(r.a);var ca="instrumentInfo";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var la=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper key-figures-widget",attrs:{role:"region","aria-label":"Key Figures Widget",tabindex:"0"}},[e("w-body",{attrs:{wid:this.wid,ric:this.ric}})],1)};la._withStripped=!0;var da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget-body w-key-figures-widget"},[t.isError?"nodata"===t.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("b-container",{staticClass:"h-100 d-flex flex-column p-0 m-0 widget-data",attrs:{fluid:""}},[a("div",{staticClass:"title",attrs:{tabindex:"0"}},[t._v(t._s(t.i18n("titles.price")))]),t._v(" "),a("b-form-row",{staticClass:"flex-grow-1"},[a("b-col",{attrs:{md:"6"}},[a("table",{attrs:{tabindex:"0"}},[a("tr",[a("td",[t._v(t._s(t.i18n("table.vwap")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["q._VWAP"],type:t.res.type["q._VWAP"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.yearHigh")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._HIGH_1Y"],type:t.res.type["d._HIGH_1Y"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.yearLow")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._LOW_1Y"],type:t.res.type["d._LOW_1Y"]}})],1)])]),t._v(" "),a("div",{staticClass:"mt-4"},[a("div",{staticClass:"title",attrs:{tabindex:"0"}},[t._v(t._s(t.i18n("titles.performance")))]),t._v(" "),a("table",{staticClass:"bordered table-performance",attrs:{tabindex:"0"}},[a("tr",[a("td",[t._v(t._s(t.i18n("table.1day")))]),t._v(" "),a("td",{staticStyle:{width:"50px"}},[a("v-fidlet",{attrs:{data:t.res.data["q._NETCHNG_1"],type:t.res.type["q._NETCHNG_1"]}})],1),t._v(" "),a("td",{staticStyle:{width:"60px"}},[a("v-tick-flash",{class:{vgreater:t.res.data["q._PCTCHNG"]>0,vless:t.res.data["q._PCTCHNG"]<0},attrs:{value:t.$f(t.res.data["q._PCTCHNG"],t.res.type["q._PCTCHNG"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.1week")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._CHG_1W"],type:t.res.type["d._CHG_1W"]}})],1),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["d._PCTCHG_1W"]>0,vless:t.res.data["d._PCTCHG_1W"]<0},attrs:{value:t.$f(t.res.data["d._PCTCHG_1W"],t.res.type["d._PCTCHG_1W"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.1month")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._CHG_1M"],type:t.res.type["d._CHG_1M"]}})],1),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["d._PCTCHG_1M"]>0,vless:t.res.data["d._PCTCHG_1M"]<0},attrs:{value:t.$f(t.res.data["d._PCTCHG_1M"],t.res.type["d._PCTCHG_1M"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.3months")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._CHG_3M"],type:t.res.type["d._CHG_3M"]}})],1),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["d._PCTCHG_3M"]>0,vless:t.res.data["d._PCTCHG_3M"]<0},attrs:{value:t.$f(t.res.data["d._PCTCHG_3M"],t.res.type["d._PCTCHG_3M"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.6months")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._CHG_6M"],type:t.res.type["d._CHG_6M"]}})],1),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["d._PCTCHG_6M"]>0,vless:t.res.data["d._PCTCHG_6M"]<0},attrs:{value:t.$f(t.res.data["d._PCTCHG_6M"],t.res.type["d._PCTCHG_6M"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.1year")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.res.data["d._CHG_1Y"],type:t.res.type["d._CHG_1Y"]}})],1),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["d._PCTCHG_1Y"]>0,vless:t.res.data["d._PCTCHG_1Y"]<0},attrs:{value:t.$f(t.res.data["d._PCTCHG_1Y"],t.res.type["d._PCTCHG_1Y"])}})],1)])])])]),t._v(" "),a("b-col",{attrs:{md:"6"}},[a("table",{staticClass:"bordered",attrs:{tabindex:"0"}},[a("tr",[a("td",[t._v(t._s(t.i18n("table.bvps")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.BVPS_MOREY"],t.res.type["rkd.BVPS_MOREY"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.eps")))]),t._v(" "),a("td",[a("v-tick-flash",{class:{vgreater:t.res.data["rkd.EPS_MOREY"]>0,vless:t.res.data["rkd.EPS_MOREY"]<0},attrs:{value:t.$f(t.res.data["rkd.EPS_MOREY"],t.res.type["rkd.EPS_MOREY"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.pe")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.PRICE_TO_EPS_MOREY"],t.res.type["rkd.PRICE_TO_EPS_MOREY"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.ps")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.PRICE_TO_NET_SALES"],t.res.type["rkd.PRICE_TO_NET_SALES"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.salesPerShare")))]),t._v(" "),a("td",[a("v-fidlet",{attrs:{data:t.salesPerShare(t.res.data["rkdp.TOTAL_REVENUE"],t.res.data["rkd.SHARES_NUM"]),type:t.res.type["rkdp.TOTAL_REVENUE"]}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.dividendYield")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.DPS_TO_PRICE_MOREY"],t.res.type["rkd.DPS_TO_PRICE_MOREY"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.marketCap")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.MKTCAP"],t.res.type["rkd.MKTCAP"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.sharesOutstanding")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["rkd.SHARES_NUM_MOREY"],t.res.type["rkd.SHARES_NUM_MOREY"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.dividendPerShare")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["q.DIVIDEND"],t.res.type["q.DIVIDEND"])}})],1)]),t._v(" "),a("tr",[a("td",[t._v(t._s(t.i18n("table.dividendDate")))]),t._v(" "),a("td",[a("v-tick-flash",{attrs:{value:t.$f(t.res.data["q.EXDIVDATE"],t.res.type["q.EXDIVDATE"])}})],1)])])])],1)],1),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};da._withStripped=!0;var ua={name:"w-key-figures-widget",mixins:[v,b],components:{VLoader:p.a,VTickFlash:m.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}}},data:function(){return{debug:!1,isLoading:!1,isError:!1,interval:"d",formats:{},fids:["q._VWAP","d._HIGH_1Y","d._LOW_1Y","q._NETCHNG_1","q._PCTCHNG","d._CHG_1W","d._PCTCHG_1W","d._CHG_1M","d._PCTCHG_1M","d._CHG_3M","d._PCTCHG_3M","d._CHG_6M","d._PCTCHG_6M","d._CHG_1Y","d._PCTCHG_1Y","rkd.BVPS_MOREY","rkd.EPS_MOREY","rkd.PRICE_TO_EPS_MOREY","rkd.PRICE_TO_NET_SALES","rkd.DPS_TO_PRICE_MOREY","rkd.MKTCAP","rkdp.TOTAL_REVENUE","rkd.SHARES_NUM","rkd.SHARES_NUM_MOREY","q.DIVIDEND","q.EXDIVDATE"],debounceFunction:null,res:{data:{},type:{}}}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{ric:function(){this.log("watch ric"),this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},salesPerShare:function(t,e){return parseFloat(1e6*t/e).toFixed(2)},fetch:function(){var t=this;this.log("fetching",this.ric.value),this.isLoading=!0,this.streamingUnsubscribe().then(this.getQuoteData).then((function(){return t.streamingSubscribe({rics:[t.ric.value],fids:t.fids},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))},getQuoteData:function(){var t=this;return d.a.Rest.get("/quote/info?rics=".concat(this.ric.value,"&fids=").concat(this.fids)).then((function(e){if(t.isLoading=!1,!e.data.data[0])return t.isError="nodata",!1;t.isError=!1,t.res={data:e.data.data[0],type:Object.keys(e.data.metadata).reduce((function(t,a){return t[a]=e.data.metadata[a].type,t}),{})}}))},handleSubscription:function(t,e){e&&(this.isLoading=!1,this.isError=!0,console.error(e))},handleSnapshot:function(t,e){var a=this;e&&(this.isLoading=!1,this.isError=!0,console.error(e));var i=t.payload[0].data;Object.keys(this.res.data).forEach((function(t){t in i&&(a.res.data[t]=i[t])}))},handleUpdate:function(t,e){var a=this;e&&(this.isLoading=!1,this.isError=!0,console.error(e)),this.log("Update",t);var i=t.payload[0].data;Object.keys(i).forEach((function(t){a.res.data[t]=i[t]}))}}},ha=(a(627),Object(y.a)(ua,da,[],!1,null,null,null));ha.options.__file="src/widgets/WKeyFigures/WBody.vue";var ga={name:"w-key-figures-wrapper",components:{WBody:ha.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}}},computed:{API:function(){return d.a},ric:function(){return{label:"RIC: ",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),t)}}},fa=(a(628),Object(y.a)(ga,la,[],!1,null,null,null));fa.options.__file="src/widgets/WKeyFigures/WWrapper.vue";var pa=fa.exports,ma={namespaced:!0,state:function(){return{ric:"BMWG.DE"}},mutations:{RIC_CHANGED:function(t,e){t.ric=e}},actions:{},getters:{}},va=a(428);i.default.use(r.a);var ba="keyFigures";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var Ca=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:this.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper market-tiles-widget"},[e("w-body",{attrs:{wid:this.wid,rics:this.rics,chainRic:this.chainRic},on:{click:this.onClick}})],1)};Ca._withStripped=!0;var _a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-widget-control-bar",[a("v-widget-input-symbol",{attrs:{label:"Index RIC",value:[],maxLength:1,autocompleteInstruments:["Index"]},on:{input:function(e){return t.$emit("updateRic",e[0])}}}),t._v(" "),a("b-form",{attrs:{inline:""},on:{submit:t.onRicsSubmit}},[a("label",{staticClass:"mx-2",attrs:{for:"inline-form-input-symbols"}},[t._v("RICs")]),t._v(" "),a("b-form-input",{attrs:{placeholder:"Enter RICs"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)};_a._withStripped=!0;var wa={name:"w-market-tiles-control-bar",components:{VWidgetControlBar:st.a,VWidgetInputSymbol:Zt.a},props:{api:{type:Object,required:!0},ric:{type:[String,Array],required:!0}},data:function(){return{text:""}},methods:{onRicsSubmit:function(t){t.preventDefault();var e=this.text.split(/,\s|,/);this.$emit("updateRics",e)}}},ya=Object(y.a)(wa,_a,[],!1,null,null,null);ya.options.__file="src/widgets/WMarketTiles/WControlBar.vue";var Da=ya.exports,Sa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"widget-body w-market-tiles-widget",on:{scroll:t.onScroll}},[a("section",[a("b-row",t._l(t.timeseriesData,(function(e){return a("b-col",{key:e.ric,staticClass:"tile-element",attrs:{sm:"12","data-ric":e.RIC},on:{click:t.onClick}},[a("div",{staticClass:"tile-header d-flex .flex-row justify-content-between"},[a("div",{staticClass:"tile-title d-flex"},[a("VFlag",{staticClass:"flag",attrs:{countryCode:t.res.data[e.RIC]["q._COUNTRY"],width:"24px"}}),t._v(" "),a("div",{staticClass:"display-name"},[t._v(t._s(t.res.data[e.RIC]["q._DSPLY_NAME"]))])],1),t._v(" "),a("div",{staticClass:"trade-date"},[t._v(t._s(t.res.data[e.RIC]["q._TRADE_DATE"]))])]),t._v(" "),a("div",{staticClass:"tile-body"},[a("c-quote-view",{attrs:{quoteData:t.res.data[e.RIC],fidTypes:t.res.type,timeseriesData:e.timeseriesData,i18nPath:t.wid+"Widget.quoteView"}})],1)])})),1),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)])};Sa._withStripped=!0;var Ea=a(436),Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex py-2"},[a("div",{staticClass:"d-flex flex-column px-2"},[a("div",{staticClass:"price"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("price")))]),t._v(" "),a("v-fidlet",{staticClass:"value",attrs:{data:t.quoteData["q._TRDPRC_1"],type:t.fidTypes["q._TRDPRC_1"]}})],1),t._v(" "),a("div",{staticClass:"perf-percentage"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("changePercentage")))]),t._v(" "),a("v-tick-flash",{staticClass:"c-tick-flash value",class:{greater:t.quoteData["q._PCTCHNG"]>0,less:t.quoteData["q._PCTCHNG"]<0},attrs:{value:t.$f(t.quoteData["q._PCTCHNG"],t.fidTypes["q._PCTCHNG"])}})],1),t._v(" "),a("div",{staticClass:"perf-abs"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("change")))]),t._v(" "),a("v-tick-flash",{staticClass:"c-tick-flash value",class:{greater:t.quoteData["q._NETCHNG_1"]>0,less:t.quoteData["q._NETCHNG_1"]<0},attrs:{value:t.$f(t.quoteData["q._NETCHNG_1"],t.fidTypes["q._NETCHNG_1"])}})],1)]),t._v(" "),a("div",{staticClass:"d-flex flex-column flex-grow-1 px-2"},[a("div",{staticClass:"d-flex chart-container flex-grow-1"},[a("v-stock-chart",{ref:"chart",staticClass:"chart",attrs:{options:t.chartOptions,theme:"dnb"}})],1),t._v(" "),a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"fid-element volume"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("volume")))]),t._v(" "),a("v-fidlet",{staticClass:"value",attrs:{data:t.quoteData["q._ACVOL_1"],type:t.fidTypes["q._ACVOL_1"]}})],1),t._v(" "),a("div",{staticClass:"fid-element open"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("open")))]),t._v(" "),a("v-fidlet",{staticClass:"value",attrs:{data:t.quoteData["q._OPEN_PRC"],type:t.fidTypes["q._OPEN_PRC"]}})],1),t._v(" "),a("div",{staticClass:"fid-element high"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("high")))]),t._v(" "),a("v-fidlet",{staticClass:"value",attrs:{data:t.quoteData["q._HIGH_1"],type:t.fidTypes["q._HIGH_1"]}})],1),t._v(" "),a("div",{staticClass:"fid-element low"},[a("div",{staticClass:"label"},[t._v(t._s(t.i18n("low")))]),t._v(" "),a("v-fidlet",{staticClass:"value",attrs:{data:t.quoteData["q._LOW_1"],type:t.fidTypes["q._LOW_1"]}})],1)])])])};Oa._withStripped=!0;var Ra={name:"c-quote-view",components:{VStockChart:f.a,VTickFlash:m.a},props:{quoteData:{type:Object},fidTypes:{type:Object},timeseriesData:{type:Array},i18nPath:{type:String}},data:function(){return{chartSeries:{}}},watch:{timeseriesData:{handler:function(t){this.chartSeries=t.map((function(t){return[1e3*t.TIME,parseFloat(t.CLOSE)]}))},deep:!0,immediate:!0}},computed:{chartOptions:function(){return{chart:{zoomType:"",animation:!1,panning:!1,type:"line",spacing:[0,35,0,0],reflow:!0,margin:[0,10,20,0]},series:[{name:"Price",data:this.chartSeries,softThreshold:!0,dataGrouping:{enabled:!1}}],tooltip:{hideDelay:0,padding:3,valueDecimals:2,outside:!0},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{type:"datetime",minRange:864e5,minTickInterval:72e5,tickPixelInterval:55,labels:{enabled:!1}},yAxis:{floor:0,tickPixelInterval:30,tickAmount:4,crosshair:{snap:!1},startOnTick:!1,labels:{enabled:!1}}}}},methods:{i18n:function(t){return this.$t("".concat(this.i18nPath,".").concat(t))}}},ka=Object(y.a)(Ra,Oa,[],!1,null,null,null);ka.options.__file="src/components/custom/CQuoteView.vue";var Ta=ka.exports,Na={name:"w-market-tiles-widget",mixins:[v,b],components:{VLoader:p.a,CQuoteView:Ta,VFlag:Ea.a},props:{wid:{type:String,required:!0},rics:{type:[String,Array],required:!0},chainRic:{type:String}},data:function(){return{debug:!1,isLoading:!1,debounceFunction:null,subscriptionId:null,fids:["q.RIC","q._DSPLY_NAME","q._TRDPRC_1","q._NETCHNG_1","q._PCTCHNG","q._TYPE","q._ACVOL_1","q._OPEN_PRC","q._HIGH_1","q._LOW_1","q._COUNTRY","q._TRADE_DATE","q._HSTCLSDATE"],res:{data:[],type:{}},pagingMinSize:56,page:0,pageSize:24,timeseriesData:[]}},computed:{lastPage:function(){return Object.keys(this.res.data).length/this.pageSize-1},pagingEnabled:function(){return Object.keys(this.res.data).length>this.pagingMinSize}},created:function(){this.debounceFunction=Object(N.a)(this.fetch,10)},mounted:function(){this.log("Mounted with:",this.rics),this.debounceFunction()},beforeDestroy:function(){this.streamingUnsubscribe()},watch:{rics:function(){this.log("Ric(s) updated with:",this.rics),this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},onClick:function(t){var e={origin:t,ric:t.currentTarget.dataset.ric};this.$emit("click",e)},onScroll:function(t){var e=this;if(this.pagingEnabled){var a=t.srcElement;a.offsetHeight+a.scrollTop>=a.scrollHeight&&this.page<this.lastPage&&(this.page++,this.log("Loading Page ".concat(this.page,"/").concat(this.lastPage)),this.isLoading=!0,this.getTimeseriesTiles(this.res.data).then((function(){e.isLoading=!1})).catch((function(t){console.error(t),e.page--,e.isLoading=!1})))}},fetch:function(){var t=this;this.page=0,this.timeseriesData=[],this.log("Fetching constituents data for:",this.rics),this.streamingUnsubscribe().then(this.prepareRics).then((function(e){return t.getConstituentsData(e)})).then((function(e){var a=Object.keys(e)[0];t.streamingSubscribe({rics:Object.keys(e),fids:Object.keys(e[a])},t.handleSubscription,t.handleSnapshot,t.handleUpdate),t.getTimeseriesTiles(e)})).catch((function(t){console.error(t)}))},prepareRics:function(){var t=this;if(this.chainRic&&""!==this.chainRic){var e="/quote/storedchain?rics=".concat(encodeURIComponent(this.chainRic));return d.a.Rest.get(e).then((function(e){if(0===e.data.data.length)throw t.gridOptions.api.setRowData([]),new Error("NO_RICS_RECEIVED");return t.log("Received rics data:",e.data.data),e.data.data.map((function(t){return t.RIC}))}))}return this.rics},getConstituentsData:function(t){var e=this,a=Array.isArray(t)?"/quote/info?rics=".concat(t,"&fids=").concat(this.fids):"/index/constituents?ric=".concat(t,"&fids=").concat(this.fids);return d.a.Rest.get(a).then((function(t){if(0===t.data.data.length)throw e.gridOptions.api.setRowData([]),new Error("NO_CONSTITUENTS_RECEIVED");e.log("Received constituents data:",t.data.data),e.log("Metadata",t.data.metadata);var a={};return t.data.data.forEach((function(t){a[t["q.RIC"]]=t})),e.res={data:a,type:Object.keys(t.data.metadata).reduce((function(e,a){return e[a]=t.data.metadata[a].type,e}),{})},a}))},getTimeseriesTiles:function(t){var e=this,a=Object.keys(t).slice(this.page*this.pageSize,(this.page+1)*this.pageSize);this.log("page",a);var i="/timeseries/tiles?rics=".concat(a);return d.a.Rest.get(i).then((function(t){if(0===t.data.data.length)throw e.gridOptions.api.setRowData([]),new Error("NO_DATA_RECEIVED");return e.log("Received timeseries data:",t.data.data),e.log("Metadata",t.data.metadata),t.data.data.forEach((function(t){e.timeseriesData.push(t)})),t.data.data}))},handleSubscription:function(t,e){e&&console.error(e),this.log("Subscription Response:",t,"Error:",e)},handleSnapshot:function(t,e){var a=this;t=t.payload[0],e&&console.error(e),t&&Object.keys(t.data).forEach((function(e){return a.res.data[t.ric][e]=t.data[e]}))},handleUpdate:function(t,e){var a=this;t=t.payload[0],e&&console.error(e),t&&Object.keys(t.data).forEach((function(e){return a.res.data[t.ric][e]=t.data[e]}))}}},Ma=(a(630),Object(y.a)(Na,Sa,[],!1,null,null,null));Ma.options.__file="src/widgets/WMarketTiles/WBody.vue";var xa={name:"w-market-tiles-wrapper",components:{WControlBar:Da,WBody:Ma.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:640,md:992,lg:1200,xl:1600}}},apiOnClick:{type:Function}},computed:{API:function(){return d.a},rics:function(){return this.$store.state.widget[this.wid].rics},chainRic:function(){return this.$store.state.widget[this.wid].chainRic}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RICS_CHANGED"),t)},onUpdateRics:function(t){this.$store.commit("widget/".concat(this.wid,"/RICS_CHANGED"),t)},onUpdateChainRic:function(t){this.$store.commit("widget/".concat(this.wid,"/CHAIN_RIC_CHANGED"),t)},onClick:function(t){this.$emit("click",t)}}},La=(a(631),Object(y.a)(xa,Ca,[],!1,null,null,null));La.options.__file="src/widgets/WMarketTiles/WWrapper.vue";var Pa=La.exports,Ha={namespaced:!0,state:function(){return{rics:".OSEBX",chainRic:""}},mutations:{RICS_CHANGED:function(t,e){t.rics=e},CHAIN_RIC_CHANGED:function(t,e){t.chainRic=e}},actions:{},getters:{}},Ia=a(429);i.default.use(r.a);var Aa="marketTiles";i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var qa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:t.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper price-chart-widget"},[a("w-control-bar",{attrs:{api:t.api,i18n:t.i18n,ric:t.ric,timeRange:t.timeRangeSelection,timeRangeOptions:t.timeRangeOptions},on:{updateRic:t.onUpdateRic,changeDateFrom:t.onChangeDateFrom,changeDateTo:t.onChangeDateTo}}),t._v(" "),a("w-body",{attrs:{wid:t.wid,ric:t.currentRic,timeRange:t.timeRange,displayVolume:t.displayVolume}})],1)};qa._withStripped=!0;var Ga=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-widget-control-bar",[a("c-widget-input-suggest",{attrs:{label:t.i18n("controls.symbol"),placeholder:t.i18n("controls.symbol"),api:t.api,value:t.ric.value,autocompleteInstruments:["Stock"]},on:{input:t.onUpdateRic}}),t._v(" "),a("v-widget-input-radio",{attrs:{inline:"",buttons:"",label:t.i18n("controls.intraday"),value:t.selectedTimeRange,options:t.timeRangeOptions.intraday},on:{input:t.onChangeTimeRange}}),t._v(" "),a("v-widget-input-radio",{attrs:{inline:"",buttons:"",label:"",value:t.selectedTimeRange,options:t.timeRangeOptions.historical},on:{input:t.onChangeTimeRange}}),t._v(" "),a("v-widget-input-date-range",{staticClass:"input-date-range",attrs:{labelFrom:t.i18n("controls.dateFrom"),valueFrom:t.selectedDate.start,startAtFrom:t.dateEarliest,endAtFrom:t.dateLatest,labelTo:t.i18n("controls.dateTo"),valueTo:t.selectedDate.end,startAtTo:t.dateEarliest,endAtTo:t.dateLatest},on:{inputFrom:t.onChangeDateFrom,inputTo:t.onChangeDateTo}})],1)};Ga._withStripped=!0;var Wa=a(946),ja=a(942),Fa=function(){var t=this.$createElement,e=this._self._c||t;return e("b-form-group",{staticClass:"c-widget-input-suggest",attrs:{label:this.label,"label-for":this.id,description:this.description}},[e("autocomplete",{staticClass:"form-control",attrs:{search:this.searchRics,placeholder:this.placeholder,"aria-label":"Suggest Input"},on:{submit:this.handleSubmit}})],1)};Fa._withStripped=!0;var $a=a(430),Ba=[{id:"STO",label:"Stock"},{id:"MON",label:"Money"},{id:"IND",label:"Index"},{id:"FUN",label:"Fund"},{id:"WAR",label:"Warrant"},{id:"FUT",label:"Future"},{id:"CUR",label:"Currency"},{id:"BON",label:"Bond"},{id:"CER",label:"Certificate"},{id:"OPT",label:"Option"},{id:"COM",label:"Commodity"}],Va={name:"c-widget-input-suggest",components:{Autocomplete:$a.a},props:{label:{type:String,required:!0},placeholder:{type:String,required:!0},value:{type:String,required:!0},description:{type:String},autocompleteInstruments:{type:Array}},computed:{id:function(){return"".concat("c-widget-input-suggest","-").concat(this._uid)}},data:function(){return{currentInput:"",autocompleteItems:[]}},methods:{handleSubmit:function(t){this.currentInput=t,this.$emit("input",t)},getInstrumentId:function(t){return Ba.find((function(e){return e.label===t})).id},searchRics:function(t){var e="/find/quicksearch?search=".concat(t,"&fids=prefSymbol%2Cdescription&pageSize=10");if(this.autocompleteInstruments){var a=this.autocompleteInstruments.map(this.getInstrumentId).join(",");e+="&instrumentType=".concat(a)}return new Promise((function(t,a){d.a.Rest.get(e).catch((function(t){console.error(t),a(t)})).then((function(e){var a=e.data.data.map((function(t){return t.prefSymbol}));t(a)}))}))}},watch:{value:function(t){this.currentInput=t}}},Ua=(a(632),Object(y.a)(Va,Fa,[],!1,null,null,null));Ua.options.__file="src/components/CWidgetInputSuggest.vue";var za=Ua.exports,Ya={minDate:ze(new Date(Date.now()),"10Y"),startDate:ze(new Date(Date.now()),"1Y"),endDate:new Date(Date.now())},Ja={name:"w-control-bar",components:{VWidgetControlBar:st.a,CWidgetInputSuggest:za,VWidgetInputSymbol:Zt.a,VWidgetInputRadio:Wa.a,VWidgetInputDateRange:ja.a},data:function(){return{dateEarliest:Ya.minDate,dateLatest:Ya.endDate,selectedTimeRange:"",selectedDate:{start:Ya.startDate,end:Ya.endDate}}},watch:{},props:{timeRange:{type:String,required:!1},timeRangeOptions:{type:Object,required:!0},api:{type:Object,required:!0},i18n:{type:Function,required:!0},ric:{type:Object,required:!1}},methods:{onUpdateRic:function(t){this.$emit("updateRic",t)},onChangeTimeRange:function(t){if(t&&""!==t){if(this.selectedDate.end=Ya.endDate,this.selectedTimeRange=t,/[Y][2-9][0-9][0-9][0-9]/.test(t)){var e=t.substring(1);this.selectedDate.start=new Date(e,0,1)}else this.selectedDate.start=ze(new Date(this.selectedDate.end),t);this.$emit("changeTimeRange",t),this.$emit("changeDateFrom",this.selectedDate.start),this.$emit("changeDateTo",this.selectedDate.end)}},onChangeDateFrom:function(t){this.selectedTimeRange="",this.selectedDate.start=new Date(t),this.$emit("changeDateFrom",new Date(t))},onChangeDateTo:function(t){this.selectedTimeRange="",this.selectedDate.end=new Date(t),this.$emit("changeDateTo",new Date(t))}}},Ka=(a(637),Object(y.a)(Ja,Ga,[],!1,null,"9560e37e",null));Ka.options.__file="src/widgets/WPriceChart/WControlBar.vue";var Xa=Ka.exports,Qa=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:this.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body w-price-chart-widget chart-container"},[e("v-stock-chart",{ref:"chart",staticClass:"chart",attrs:{options:this.chartOptions,theme:"dnb"}}),this._v(" "),this.isLoading?e("v-loader"):this._e()],1)};Qa._withStripped=!0;var Za=a(166),ti=a.n(Za),ei=a(432),ai=a.n(ei),ii=function(t){var e,a;return t<=1?(e="intraday",a=5):t>1&&t<5?(e="intraday",a=10):t>=5&&t<30?(e="intraday",a=15):t>=30&&t<90?(e="intraday",a=30):t>=90&&t<1095?(e="historical",a="D"):t>=1095&&t<3650?(e="historical",a="W"):t>=3650&&(e="historical",a="M"),{endPoint:e,periodicity:a}},ni=a(949);ai()(ti.a);var ri={name:"w-price-chart-widget",mixins:[v,b],components:{VLoader:p.a,VStockChart:f.a},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0},timeRange:{type:Object,required:!1},displayVolume:{type:Boolean,required:!1,default:!0}},data:function(){return{isLoading:!1,isError:!1,debounceFunction:null,timeSeriesPrice:{},timeSeriesVolume:{}}},computed:{chartOptions:function(){return{chart:{zoomType:"",animation:!1,panning:!1,type:"line",spacing:[5,60,10,5],reflow:!0},series:[{name:"Price",data:this.timeSeriesPrice,softThreshold:!0,visible:!0,dataGrouping:{enabled:!1}},{name:"Volume",type:"column",yAxis:1,visible:this.displayVolume,data:this.timeSeriesVolume,dataGrouping:{enabled:!1}}],tooltip:{shared:!0,hideDelay:0,padding:3,valueDecimals:2,outside:!0},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{type:"datetime",minRange:864e5,minTickInterval:864e5,tickPixelInterval:100,labels:{enabled:!0,y:30}},yAxis:[{height:this.displayVolume?"50%":"100%",floor:0,tickPixelInterval:30,tickAmount:4,crosshair:{snap:!1},startOnTick:!1,labels:{enabled:!0,align:"right",x:50,format:"{value:.2f}"}},{top:this.displayVolume?"55%":"0%",height:this.displayVolume?"45%":"0%",floor:0,tickPixelInterval:30,tickAmount:4,crosshair:{snap:!1},startOnTick:!1,labels:{enabled:!0,align:"right",x:50,format:"{value} k"}}],plotOptions:{line:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}},column:{accessibility:{enabled:!0,keyboardNavigation:{enabled:!0}}}},accessibility:{description:"Basic Chart",keyboardNavigation:{enabled:!0}},responsive:{rules:[{condition:{maxWidth:320},chartOptions:{chart:{spacing:[5,5,5,5]},xAxis:{labels:{enabled:!1}},yAxis:[{labels:{enabled:!1}},{labels:{enabled:!1}}]}}]}}}},watch:{ric:{deep:!0,handler:function(){this.fetch()}},timeRange:{deep:!0,handler:function(t){this.fromDate=t.dateFrom,this.toDate=t.dateTo,this.fetch()}}},methods:{fetch:function(){var t=this,e=Object(ni.a)(this.toDate,this.fromDate),a=ii(e);this.isLoading=!0,this.getTimeSeriesData(this.fromDate,this.toDate,a.endPoint,a.periodicity).then((function(e){t.isLoading=!1,null===e?(t.timeSeriesPrice=[null,null],t.timeSeriesVolume=[null,null]):(t.timeSeriesPrice=e.map((function(t){if("intraday"===a.endPoint){var e=new Date(1e3*t.TIME).getTimezoneOffset();return[Object(Ke.a)(Object(Xe.a)(1e3*t.TIME,-1*e)),parseFloat(t.CLOSE)]}return[Ye(t._DATE_END),parseFloat(t.CLOSE_PRC)]})),t.timeSeriesVolume=e.map((function(t){if("intraday"===a.endPoint){var e=new Date(1e3*t.TIME).getTimezoneOffset();return[Object(Ke.a)(Object(Xe.a)(1e3*t.TIME,-1*e)),parseFloat(t.VOLUME)/1e3]}return[Ye(t._DATE_END),t.ACVOL_1/1e3]}))),t.$refs.chart&&t.$refs.chart.chart.reflow()})).catch((function(e){return t.isLoading=!1,console.error("[".concat(t.wid,"] – Time Series Error."),e),null}))},getDateForTimeRange:function(t){var e=new Date(Date.now());return ze(e,t)},getTimeSeriesData:function(t,e,a,i){var n=this;if(""===this.ric.value)return Promise.resolve(null);var r="";return"intraday"!==a&&"historical"!==a||(r+="/timeseries/".concat(a),r+="?ric=".concat(this.ric.value),r+="&fromDate=".concat(Object(Qe.a)(t,"yyyy-MM-dd")),Object(Qe.a)(t,"yyyy-MM-dd")!==Object(Qe.a)(e,"yyyy-MM-dd")&&(r+="&toDate=".concat(Object(Qe.a)(e,"yyyy-MM-dd")))),"intraday"===a?(r+="&fids=TIME,OPEN,HIGH,LOW,CLOSE,VOLUME",r+="&interval=".concat(i)):"historical"===a&&(r+="&fids=_DATE_END,OPEN_PRC,HIGH_1,LOW_1,CLOSE_PRC,ACVOL_1",r+="&samples=".concat(i),r+="&appendRecentData=all"),""!==r?d.a.Rest.get(r).then((function(t){var e=t.data.data;return 0===e.length?(console.error("[".concat(n.wid,"] – Empty data response from server.")),null):e})).catch((function(t){return console.error("[".concat(n.wid,"] – Request error response from server."),t),null})):(console.error("[".concat(this.wid,"] – Client side error empty request uri.")),Promise.resolve(null))},onResize:function(){this.$refs.chart}},created:function(){this.debounceFunction=Object(N.a)(this.fetch,10)},mounted:function(){this.fromDate=ze(new Date(Date.now()),"1Y"),this.toDate=new Date(Date.now()),this.debounceFunction()},destroyed:function(){}},si=(a(638),Object(y.a)(ri,Qa,[],!1,null,null,null));si.options.__file="src/widgets/WPriceChart/WBody.vue";var oi={name:"w-price-chart-wrapper",components:{WControlBar:Xa,WBody:si.exports},directives:{WidgetBreakpointDirective:E.a},data:function(){return{currentRic:{label:this.i18n("controls.symbol"),value:this.$store.state.widget[this.wid].ric},timeRange:{dateFrom:ze(new Date(Date.now()),"1Y"),dateTo:new Date(Date.now())}}},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}},apiOnClick:{type:Function}},computed:{api:function(){return d.a},ric:function(){return{label:this.i18n("controls.symbol"),value:this.$store.state.widget[this.wid].ric}},displayVolume:function(){return this.$store.state.widget[this.wid].displayVolume},timeRangeSelection:function(){return this.$store.state.widget[this.wid].timeRangeSelection},timeRangeOptions:function(){return this.$store.state.widget[this.wid].timeRangeOptions}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},onUpdateRic:function(t){this.currentRic.value=t},onChangeDateFrom:function(t){this.timeRange.dateFrom=t},onChangeDateTo:function(t){this.timeRange.dateTo=t}}},ci=(a(639),Object(y.a)(oi,qa,[],!1,null,null,null));ci.options.__file="src/widgets/WPriceChart/WWrapper.vue";var li=ci.exports,di={namespaced:!0,state:function(){return{ric:"",displayVolume:!1,timeRangeSelection:"1Y",timeRangeOptions:{intraday:[{value:"1D",text:"1D"},{value:"2D",text:"2D"},{value:"3D",text:"3D"},{value:"4D",text:"4D"},{value:"5D",text:"5D"},{value:"10D",text:"10D"}],historical:[{value:"1M",text:"1M"},{value:"3M",text:"3M"},{value:"Y2019",text:"2019"},{value:"1Y",text:"1Y"},{value:"3Y",text:"3Y"},{value:"5Y",text:"MAX"}]}}},mutations:{RIC_CHANGED:function(t,e){t.ric=e},TIME_RANGE_SELECTION_CHANGED:function(t,e){t.timeRangeSelection=e},TIME_RANGE_OPTIONS_CHANGED:function(t,e){t.timeRangeOptions=e},DISPLAY_VOLUME_CHANGED:function(t,e){t.displayVolume=e}},actions:{},getters:{}},ui=a(433);i.default.use(r.a);var hi="priceChart";i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"widget-breakpoint-directive",rawName:"v-widget-breakpoint-directive:config",value:t.breakpoints,expression:"breakpoints",arg:"config"}],staticClass:"widget widget-wrapper winners-losers-widget",attrs:{role:"region","aria-labelledby":"Winners Losers Most Traded Widget",tabindex:"0"}},[a("w-body",{attrs:{wid:t.wid,exchange:t.exchange,table:t.table,results:t.results,showButtons:t.showButtons,showHeaderRow:t.showHeaderRow},on:{buy:t.onBuy}})],1)};gi._withStripped=!0;var fi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body w-winners-losers-widget"},[t.tablesConfig.isError?"nodata"===t.tablesConfig.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("ag-grid-vue",{staticClass:"c-data-grid ag-theme-balham",attrs:{animateRows:"",suppressFieldDotNotation:"",suppressMenu:"",suppressDragLeaveHidesColumns:"",suppressMovable:"",lockPosition:"",suppressSortable:"",defaultColDef:t.defaultColumnDef,columnDefs:t.columnDefs,components:t.renderers,gridOptions:t.tablesConfig.gridOptions},on:{gridReady:t.onGridReady}}),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};fi._withStripped=!0;var pi=a(947),mi={name:"w-winners-losers-widget",mixins:[v,b],components:{VLoader:p.a,AgGridVue:Nt.AgGridVue,VTickFlashRenderer:pi.a,CHoverButtonRenderer:be},directives:{resize:l.a},props:{wid:{type:String,required:!0},exchange:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},table:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},results:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}},showButtons:{type:Boolean},showHeaderRow:{type:Boolean}},data:function(){return{debug:!1,isLoading:!1,tablesConfig:{gridOptions:{headerHeight:this.showHeaderRow?+xt.agGridRowHeight:0,rowHeight:+xt.agGridRowHeight,getRowNodeId:this.getRowNodeId},isError:!1,isLoading:!0},defaultColumnDef:{minWidth:60,width:60,headerClass:"text-center",cellClass:"text-center",suppressMovable:!0,resizable:!1,editable:!1,rowDrag:!1,sortable:!1},formats:{},quoteFids:["q.RIC","q._DSPLY_NAME","q.PCTCHNG","q._TRDPRC_1","q._ACVOL_1","q.NUM_MOVES","q._TURNOVER"],rows:[],debounceFunction:null}},computed:{locale:function(){return this.$i18n.locale},columnDefs:function(){var t=this;return this.columns.map((function(e){return Object.assign({},e,{headerName:t.i18n(e.headerName)})}))},columns:function(){return"gainers"===this.table.value||"losers"===this.table.value?[{field:"q._DSPLY_NAME",headerName:"table.name",cellClass:"text-left",minWidth:90,width:140},{field:"q.PCTCHNG",headerName:"table.priceChangePercentage",headerClass:"text-right",cellClass:"text-right",cellClassRules:Mt.a,cellRendererFramework:"VTickFlashRenderer"},{field:"q._TRDPRC_1",headerClass:"text-right",headerName:"table.price",cellClass:"text-right price-col",cellRendererFramework:this.showButtons?"CHoverButtonRenderer":"",onCellClicked:this.showButtons?this.onCellClicked:null}]:[{field:"q._DSPLY_NAME",headerName:"table.name",cellClass:"text-left",minWidth:140,width:140},{field:"q._TURNOVER",headerName:"table.turnover",headerClass:"text-right",cellClass:"text-right",cellClassRules:Mt.a,cellRendererFramework:"VTickFlashRenderer"},{field:"q._ACVOL_1",headerName:"table.volume",headerClass:"text-right",cellClass:"text-right",cellRendererFramework:this.showButtons?"CHoverButtonRenderer":"",onCellClicked:this.showButtons?this.onCellClicked:null}]},renderers:function(){return[pi.a,be]}},created:function(){this.debounceFunction=this._.debounce(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{exchange:function(){this.log("watch exchange",this.exchange),this.debounceFunction()},table:function(){this.log("watch table"),this.debounceFunction()},results:function(){this.log(" watch results"),this.debounceFunction()},showHeaderRow:function(){this.log("watch showHeaderRow")},showButtons:function(){this.log(" watch showButtons")},columns:function(){this.tablesConfig.gridOptions.api.sizeColumnsToFit()},locale:function(){this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},getRowNodeId:function(t){return t["q.RIC"]},onResize:function(){this.tablesConfig.gridOptions.api&&this.tablesConfig.gridOptions.api.sizeColumnsToFit()},onCellClicked:function(t){var e={data:{ric:t.data["q.RIC"]},origin:t};this.$emit("buy",e)},fetch:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.log("fetching",this.table.value,this.exchange.value,this.results.value),e||(this.isLoading=!0),this.tablesConfig.isError=!1,this.rows=[],this.streamingUnsubscribe().then((function(){t.getStockScreenerData(t.exchange.value).then(t.fillRows).then((function(e){t.log("stream start: ",e.map((function(t){return t["q.RIC"]}))),t.streamingSubscribe({rics:e.map((function(t){return t["q.RIC"]})),fids:t.quoteFids},t.handleSubscription,t.handleSnapshot,t.handleUpdate)}))})).catch((function(e){"nodata"===e?(t.isLoading=!1,console.error("nodata"),t.tablesConfig.isError="nodata"):(t.isLoading=!1,console.error(e),t.tablesConfig.isError=!0)}))},getStockScreenerData:function(t){var e=this;return d.a.Rest.get("/product/dnb/exchangelists?exchange="+t+"&fids="+this.quoteFids).then((function(t){return e.log("response",t),t.data.data.length?t:Promise.reject("nodata")}))},fillRows:function(t){var e=this;this.formats._done||(Object.assign(this.formats,Object.keys(t.data.metadata).reduce((function(e,a){return e[a]=t.data.metadata[a].type,e}),{})),this.formats._done=!0);var a=this.sortExchangeList(t.data.data).slice(0,this.results.value);return a.forEach((function(t){var a=e.formatData(t,{},_);e.rows.push(a)})),this.log("filled rows: ",a),this.tablesConfig.gridOptions.api&&(this.tablesConfig.gridOptions.api.setRowData(this.rows),this.tablesConfig.gridOptions.api.sizeColumnsToFit()),this.tablesConfig.isError=!1,this.isLoading=!1,this.rows},onGridReady:function(){this.log("Grid ready to set data"),this.tablesConfig.gridOptions.api.setRowData(this.rows),this.tablesConfig.gridOptions.api.sizeColumnsToFit(),this.isLoading=!1},sortExchangeList:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.table.value;function a(t,a){var i=1;return"gainers"===e?(t=parseFloat(t["q.PCTCHNG"]),a=parseFloat(a["q.PCTCHNG"])):"losers"===e?(t=parseFloat(t["q.PCTCHNG"]),a=parseFloat(a["q.PCTCHNG"]),i=-1):"mosttrades"===e?(t=parseFloat(t["q.NUM_MOVES"]),a=parseFloat(a["q.NUM_MOVES"])):"mostvolume"===e?(t=parseFloat(t["q._ACVOL_1"]),a=parseFloat(a["q._ACVOL_1"])):"mostturnover"===e&&(t=parseFloat(t["q._TURNOVER"]),a=parseFloat(a["q._TURNOVER"])),Number.isNaN(parseFloat(t))?1:Number.isNaN(parseFloat(a))?-1:t>a?-1*i:t<a?1*i:0}return t.sort(a)},handleSubscription:function(t,e){e&&console.error(t,e)},handleSnapshot:function(t,e){this.log("handlesnapshot",t),t=t.payload[0],e&&console.error(e);try{if(null!==this.tablesConfig.gridOptions.api&&t){var a=this.tablesConfig.gridOptions.api.getRowNode(t.ric);a&&this.tablesConfig.gridOptions.api.batchUpdateRowData({update:[a.data]})}this.isLoading=!1}catch(t){console.error(t),this.isLoading=!1}},handleUpdate:function(t,e){this.log(t),t=t.payload[0],e&&console.error(e);try{if(null!==this.tablesConfig.gridOptions.api&&t){var a=this.tablesConfig.gridOptions.api.getRowNode(t.ric);if(a){var i=this.formatData(t.data,a.data,_);this.tablesConfig.gridOptions.api.batchUpdateRowData({update:[i]})}}}catch(e){console.error(e),console.error("#WWinnersLosersWidget: Streaming Update Error ",t)}},formatData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return Object.keys(t).forEach((function(n){a[n]=e.$f(t[n],e.formats[n],(function(t){return i(t,e)}))})),a}}},vi=(a(640),Object(y.a)(mi,fi,[],!1,null,null,null));vi.options.__file="src/widgets/WWinnersLosers/WBody.vue";var bi={name:"w-winners-losers-wrapper",components:{WBody:vi.exports},directives:{WidgetBreakpointDirective:E.a},props:{wid:{type:String,required:!0},breakpoints:{type:Object,default:function(){return{xs:320,sm:480,md:576,lg:768,xl:992}}},apiOnBuy:{type:Function}},computed:{API:function(){return d.a},exchange:function(){return{label:"Exchange",value:[this.$store.state.widget[this.wid].exchange],placeholder:"search"}},table:function(){return{label:"Table",value:this.$store.state.widget[this.wid].table}},results:function(){return{label:"Results",value:this.$store.state.widget[this.wid].results}},showButtons:function(){return this.$store.state.widget[this.wid].showButtons},showHeaderRow:function(){return this.$store.state.widget[this.wid].showHeaderRow}},methods:{onUpdateExchange:function(t){this.$store.commit("widget/".concat(this.wid,"/EXCHANGE_CHANGED"),t)},onUpdateTable:function(t){this.$store.commit("widget/".concat(this.wid,"/TABLE_CHANGED"),t)},onUpdateResults:function(t){this.$store.commit("widget/".concat(this.wid,"/RESULTS_CHANGED"),t)},onUpdateShowButtons:function(t){this.$store.commit("widget/".concat(this.wid,"/SHOW_BUTTONS_CHANGED"),t)},onUpdateShowHeaderRow:function(t){this.$store.commit("widget/".concat(this.wid,"/SHOW_HEADER_ROW_CHANGED"),t)},onBuy:function(t){this.$emit("buy",t)}}},Ci=(a(641),Object(y.a)(bi,gi,[],!1,null,null,null));Ci.options.__file="src/widgets/WWinnersLosers/WWrapper.vue";var _i=Ci.exports,wi={namespaced:!0,state:function(){return{exchange:"Oslo",table:"gainers",results:5,showButtons:!0,showHeaderRow:!0,columns:[{headerName:"name",field:"q._BID"},{headerName:"+/-",field:"q.BIDSIZE"},{headerName:"price",field:"q._ASK"}]}},mutations:{EXCHANGE_CHANGED:function(t,e){t.exchange=e},TABLE_CHANGED:function(t,e){t.table=e},RESULTS_CHANGED:function(t,e){t.results=e},COLUMNS_CHANGED:function(t,e){t.columns=e},SHOW_BUTTONS_CHANGED:function(t,e){t.showButtons=e},SHOW_HEADER_ROW_CHANGED:function(t,e){t.showHeaderRow=e}},actions:{},getters:{}},yi=a(434);i.default.use(r.a);var Di="winnersLosers";i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);var Si=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"widget widget-wrapper time-sales-widget"},[e("w-body",{attrs:{wid:this.wid,ric:this.ric,results:this.results,timeRange:this.timeRange,columns:this.columns},on:{click:this.onClick}})],1)};Si._withStripped=!0;var Ei=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize:debounce.30",value:t.onResize,expression:"onResize",arg:"debounce",modifiers:{30:!0}}],staticClass:"widget-body w-time-sales-widget"},[t.isError||t.isDateError?t.isDateError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages."+t.isDateError))+"\n  ")]):"nodata"===t.isError?a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"light",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.nodata"))+"\n  ")]):a("div",{staticClass:"p-3 error-message",attrs:{"border-variant":"danger","header-border-variant":"danger",align:"center"}},[t._v("\n    "+t._s(t.i18n("messages.error"))+"\n  ")]):a("b-container",{staticClass:"h-100 grid-wrap",attrs:{fluid:""}},[a("div",{staticClass:"grid-controls"},[a("span",{on:{click:function(e){return t.$emit("click",{ric:t.ric.value,button:"lastTrades"})}}},[t._v(t._s(t.i18n("controls.lastTrades")))]),t._v("\n      |\n      "),a("span",{on:{click:function(e){return t.$emit("click",{ric:t.ric.value,button:"allTrades"})}}},[t._v(t._s(t.i18n("controls.allTrades")))])]),t._v(" "),a("b-row",{staticClass:"h-100"},[a("b-col",[a("ag-grid-vue",{staticClass:"c-data-grid ag-theme-balham",attrs:{animateRows:"",gridOptions:t.gridOptions,columnDefs:t.columnDefs,components:t.renderers}})],1)],1)],1),t._v(" "),t.isLoading?a("v-loader"):t._e()],1)};Ei._withStripped=!0;var Oi=a(426),Ri=a(938),ki=a(308);function Ti(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function Ni(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Mi={name:"w-time-sales-widget",mixins:[v],components:{VLoader:p.a,AgGridVue:Nt.AgGridVue,CTickFlashRenderer:It},directives:{resize:l.a},props:{wid:{type:String,required:!0},ric:{type:Object,required:!0,validator:function(t){return"string"==typeof t.value&&"string"==typeof t.label}},timeRange:{type:Object,required:!1},columns:{type:Array,required:!0},results:{type:Object,required:!0,validator:function(t){return"string"==typeof t.label}}},data:function(){var t=this;return{debug:!1,isLoading:!1,isError:!1,isDateError:!1,debounceFunction:null,gridOptions:{headerHeight:+xt.agGridRowHeight,rowHeight:+xt.agGridRowHeight,defaultColDef:{valueFormatter:this.fidletValueFormatter,valueGetter:this.rawTypeValueGetter,resizable:!0,sortable:!0,minWidth:70,headerClass:"text-right",cellClass:"text-right",menuTabs:["filterMenuTab"]},columnTypes:{string:{headerClass:"text-left",cellClass:"text-left"},"string.exchange":{headerClass:"text-center",cellClass:"text-center"},"string.currency":{headerClass:"text-center",cellClass:"text-center"},time:{headerClass:"text-center",cellClass:"text-center",minWidth:70},date:{headerClass:"text-center",cellClass:"text-center",minWidth:70},datetime:{headerClass:"text-center",cellClass:"text-center",minWidth:70},int:{minWidth:70},float:{minWidth:70},"float.price":{minWidth:70},"float.price.change":{cellClassRules:Mt.a,cellRendererFramework:"CTickFlashRenderer",minWidth:70},"float.percentage":{minWidth:50},"float.percentage.change":{cellClassRules:Mt.a,cellRendererFramework:"CTickFlashRenderer",minWidth:50}},rowData:[],context:{componentParent:this},suppressFieldDotNotation:!0,suppressCellSelection:!0,suppressPropertyNamesCheck:!0,rowSelection:"single",batchUpdateWaitMillis:500,localeTextFunc:function(e,a){var i="grid."+e,n=t.i18n(i);return n===i?a:n}},fidType:{}}},computed:{renderers:function(){return[It]},columnDefs:function(){var t=this,e=/i18n\(([\s\S]*)\)/,a=this.columns.map((function(a){var i=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Ti(a,!0).forEach((function(e){Ni(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ti(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},a);return e.exec(i.headerName)&&(i.headerName=t.i18n(e.exec(i.headerName)[1])),t.fidType[i.field]&&!i.type&&(i.type=t.fidType[i.field]),i}));return a},fids:function(){var t=this.columnDefs.map((function(t){return t.field}));return t}},created:function(){this.debounceFunction=Object(N.a)(this.fetch,10)},mounted:function(){this.debounceFunction()},watch:{ric:function(){this.log("Ric updated with:",this.ric),this.debounceFunction()},results:function(){this.log("Results updated with:",this.results),this.debounceFunction()},columns:function(){this.log("Columns updated with:",this.columns),this.debounceFunction()}},methods:{i18n:function(t){return this.$t("".concat(this.wid+"Widget",".").concat(t))},onResize:function(){this.log("Grid reacts to resize: sizeColumnsToFit"),this.gridOptions.api&&this.gridOptions.api.sizeColumnsToFit()},onClick:function(t){this.$emit("click",t)},isInputDatesValid:function(){var t=this.timeRange.fromDate?new Date(this.timeRange.fromDate):null,e=this.timeRange.toDate?new Date(this.timeRange.toDate):null;return t&&!Object(Oi.a)(t)?(this.isDateError="invalidDate",!1):e&&!Object(Oi.a)(e)?(this.isDateError="invalidDate",!1):Object(Ri.a)(t)||Object(Ri.a)(e)?(this.isDateError="futureDate",!1):!(Object(ki.a)(t,e)>0)||(this.isDateError="invalidFromDate",!1)},fetch:function(){var t=this;this.isInputDatesValid()&&(this.isLoading=!0,this.isError=!1,this.log("Fetching time & sales data for:",this.ric),this.getTimeAndSalesData().then((function(e){0===e.data.data.length?(t.isError="nodata",t.loading=!1):(t.log("Received time & sales data:",e.data.data),t.fidType=Object.keys(e.data.metadata).reduce((function(t,a){return t[a.split(".")[1]]=e.data.metadata[a].type,t}),{}),t.gridOptions.api.setColumnDefs(t.columnDefs),t.gridOptions.api.setRowData(e.data.data),t.gridOptions.api.sizeColumnsToFit(),t.isLoading=!1)})))},getTimeAndSalesData:function(){var t="",e=this.formatDate(this.timeRange.fromDate),a=this.formatDate(this.timeRange.toDate);return e&&(t+="fromDate=".concat(e,"&")),a&&(t+="toDate=".concat(a,"&")),d.a.Rest.get("/timeseries/tns?ric=".concat(this.ric.value,"&fids=").concat(this.fids,"&").concat(t,"count=").concat(this.results.value))},formatDate:function(t){if(t){var e=new Date(t);return t.indexOf("T")>-1?Object(Qe.a)(e,"yyyy-MM-dd'T'HH:mm:ss"):Object(Qe.a)(e,"yyyy-MM-dd")}return null},fidletValueFormatter:function(t){var e=t.colDef.field;return this.$f(t.value,this.fidType[e])},rawTypeValueGetter:function(t){var e=t.colDef.field,a=this.fidType[e],i=t.data[e];switch(a){case"int":return isNaN(parseInt(i))?"":i;case"float":return isNaN(parseFloat(i))?"":i;case"datetime":return new Date(+i).toLocaleString();default:return i}}}},xi=(a(642),Object(y.a)(Mi,Ei,[],!1,null,null,null));xi.options.__file="src/widgets/WTimeSales/WBody.vue";var Li={name:"w-time-sales-wrapper",components:{WBody:xi.exports},props:{wid:{type:String,required:!0},apiOnClick:{type:Function}},computed:{API:function(){return d.a},ric:function(){return{label:"RIC",value:this.$store.state.widget[this.wid].ric,placeholder:"search"}},results:function(){return{label:"Results",value:this.$store.state.widget[this.wid].results}},columns:function(){return this.$store.state.widget[this.wid].columns},timeRange:function(){return this.$store.state.widget[this.wid].timeRange}},methods:{onUpdateRic:function(t){this.$store.commit("widget/".concat(this.wid,"/RIC_CHANGED"),t)},onUpdateTimeRange:function(t){this.$store.commit("widget/".concat(this.wid,"/TIME_RANGE_CHANGED"),t)},onUpdateResults:function(t){this.$store.commit("widget/".concat(this.wid,"/RESULTS_CHANGED"),t)},onClick:function(t){this.$emit("click",t)}}},Pi=(a(643),Object(y.a)(Li,Si,[],!1,null,null,null));Pi.options.__file="src/widgets/WTimeSales/WWrapper.vue";var Hi=Pi.exports,Ii={namespaced:!0,state:function(){return{ric:"",columns:[{headerName:"i18n(custom.header.time)",field:"0"},{headerName:"i18n(custom.header.price)",field:"6"},{headerName:"i18n(custom.header.volume)",field:"178"}],timeRange:{fromDate:"",toDate:""},results:10}},mutations:{RIC_CHANGED:function(t,e){t.ric=e},TIME_RANGE_CHANGED:function(t,e){t.timeRange=e},RESULTS_CHANGED:function(t,e){t.results=e},COLUMNS_CHANGED:function(t,e){t.columns=e}},actions:{},getters:{}},Ai=a(435);i.default.use(r.a);var qi="timeSales";i.default.prototype._={debounce:N.a},i.default.use(Z),i.default.use(tt.a),i.default.use(et.a);a.d(e,"WWinnersLosers",(function(){return Gi})),a.d(e,"WMainIndex",(function(){return Wi})),a.d(e,"WTickerBand",(function(){return ji})),a.d(e,"WTrends",(function(){return Fi})),a.d(e,"WMarketList",(function(){return $i})),a.d(e,"WHeatmap",(function(){return Bi})),a.d(e,"WOrderBook",(function(){return Vi})),a.d(e,"WInstrumentInfo",(function(){return Ui})),a.d(e,"WKeyFigures",(function(){return zi})),a.d(e,"WMarketTiles",(function(){return Yi})),a.d(e,"WPriceChart",(function(){return Ji})),a.d(e,"WTimeSales",(function(){return Ki}));const Gi={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",Di],wi),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[Di]=Object.assign(s.widget[Di],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,silentFallbackWarn:!0,messages:{en:yi.en,no:{}}})}(a),d=function(t,e){var a={};a[Di+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(_i,{props:{wid:Di,apiRic:this.apiRic},on:{buy:function(t){u.apiOnBuy&&u.apiOnBuy(t)}}})}});return u.$mount(t),o.setExchange=function(t){u.$store.commit("widget/".concat(Di,"/EXCHANGE_CHANGED"),t)},o.setTable=function(t){u.$store.commit("widget/".concat(Di,"/TABLE_CHANGED"),t)},o.setResults=function(t){u.$store.commit("widget/".concat(Di,"/RESULTS_CHANGED"),t)},o.setShowButtons=function(t){u.$store.commit("widget/".concat(Di,"/SHOW_BUTTONS_CHANGED"),t)},o.setShowHeaderRow=function(t){u.$store.commit("widget/".concat(Di,"/SHOW_HEADER_ROW_CHANGED"),t)},o.setColumns=function(t){u.$store.commit("widget/".concat(Di,"/COLUMNS_CHANGED"),t)},o.onBuy=function(t){u.apiOnBuy=t},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},Wi={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",it],T),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[it]=Object.assign(s.widget[it],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,silentFallbackWarn:!0,messages:{en:at.en,no:{}}})}(a),d=function(t,e){var a={};a[it+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(k,{props:{wid:it}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(it,"/RIC_CHANGED"),t)},o.setHeader=function(t){u.$store.commit("widget/".concat(it,"/SHOW_HEADER_CHANGED"),t)},o.setView=function(t){u.$store.commit("widget/".concat(it,"/VIEW_CHANGED"),t)},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},ji={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",vt],mt),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[vt]=Object.assign(s.widget[vt],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,silentFallbackWarn:!0,messages:{en:{},no:{}}})}(a),d=function(t,e){var a={};a[vt+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(pt,{props:{wid:vt},on:{click:function(t){u.apiOnClick&&u.apiOnClick(t)}}})}});return u.$mount(t),o.setTickerElements=function(t){u.$store.commit("widget/".concat(vt,"/ELEMENTS_CHANGED"),t)},o.onClick=function(t){u.apiOnClick=t},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},Fi={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",Rt],Et),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[Rt]=Object.assign(s.widget[Rt],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,silentFallbackWarn:!0,messages:{en:Ot.en,no:{}}})}(a),d=function(t,e){var a={};a[Rt+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(St,{props:{wid:Rt}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(Rt,"/RIC_CHANGED"),t)},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},$i={init:function(t,e,a,n){var r={onError:null,onConfigChange:null},s=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",Kt],Yt),e}(r);e&&function(t){t.indexRic&&(t.rics=t.indexRic,delete t.indexRic);var e=Object(M.a)(s.state);e.widget[Kt]=Object.assign(e.widget[Kt],t),s.replaceState(e)}(e);var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:Jt.en,no:{}}})}(a),c=function(t,e){var a={};a[Kt+"Widget"]=e;var i=Object(x.a)(o.getLocaleMessage(t),a);o.setLocaleMessage(t,i)};n&&c(a,n);var l=new i.default({i18n:o,store:s,render:function(t){return t(zt,{props:{wid:Kt},on:{click:function(t){l.apiOnClick&&l.apiOnClick(t)}}})}});return l.$mount(t),r.setIndexRic=function(t){l.$store.commit("widget/".concat(Kt,"/RICS_CHANGED"),t)},r.setRics=function(t){l.$store.commit("widget/".concat(Kt,"/RICS_CHANGED"),t)},r.setChainRic=function(t){l.$store.commit("widget/".concat(Kt,"/CHAIN_RIC_CHANGED"),t)},r.setColumns=function(t){l.$store.commit("widget/".concat(Kt,"/COLUMNS_CHANGED"),t)},r.onClick=function(t){l.apiOnClick=t},r.getLocaleMessages=function(t){return o.getLocaleMessage(t||"en")},r.setLocaleMessages=function(t,e){c(t,e)},r.getLocale=function(){return o.locale},r.setLocale=function(t){o.locale=t},r.destroy=function(){l.$el.remove(),l.$destroy()},r}},Bi={init:function(t,e,a,n){var r,s={onError:null,onConfigChange:null},o=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",ue],le),e}(s),c=Object(M.a)(o.state);if(e){if(e.heatmapColors){var l=c.widget[ue].heatmapColors;l=Object.assign(l,e.heatmapColors),e.heatmapColors=l}e.ric&&(e.ric=[e.ric]),r=e,c.widget[ue]=Object.assign(c.widget[ue],r),o.replaceState(c)}var d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:de.en,no:{}}})}(a),u=function(t,e){var a={};a[ue+"Widget"]=e;var i=Object(x.a)(d.getLocaleMessage(t),a);d.setLocaleMessage(t,i)};n&&u(a,n);var h=new i.default({i18n:d,store:o,render:function(t){return t(ce,{props:{wid:ue}})}});return h.$mount(t),s.setRic=function(t){h.$store.commit("widget/".concat(ue,"/RIC_CHANGED"),[t])},s.setColors=function(t){h.$store.commit("widget/".concat(ue,"/COLORS_CHANGED"),t)},s.setIndicator=function(t){h.$store.commit("widget/".concat(ue,"/INDICATOR_CHANGED"),t)},s.setSize=function(t){h.$store.commit("widget/".concat(ue,"/SIZE_CHANGED"),t)},s.setSort=function(t){h.$store.commit("widget/".concat(ue,"/SORT_CHANGED"),t)},s.setSortDirection=function(t){h.$store.commit("widget/".concat(ue,"/SORTDIR_CHANGED"),t)},s.getLocaleMessages=function(t){return d.getLocaleMessage(t||"en")},s.setLocaleMessages=function(t,e){u(t,e)},s.getLocale=function(){return d.locale},s.setLocale=function(t){d.locale=t},s.destroy=function(){h.$el.remove(),h.$destroy()},s}},Vi={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",Ge],Ae),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[Ge]=Object.assign(s.widget[Ge],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:qe.en,no:{}}})}(a),d=function(t,e){var a={};a[Ge+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(Ie,{props:{wid:Ge},on:{buy:function(t){u.apiOnBuy&&u.apiOnBuy(t)},sell:function(t){u.apiOnSell&&u.apiOnSell(t)},JWTSuccess:function(){u.apiOnJWTSuccess&&u.apiOnJWTSuccess()},JWTFailure:function(t){u.apiOnJWTFailure&&u.apiOnJWTFailure(t)}}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(Ge,"/RIC_CHANGED"),t)},o.setResults=function(t){u.$store.commit("widget/".concat(Ge,"/RESULTS_CHANGED"),t)},o.setHasButtons=function(t){u.$store.commit("widget/".concat(Ge,"/HAS_BUTTONS_CHANGED"),t)},o.onBuy=function(t){u.apiOnBuy=t},o.onSell=function(t){u.apiOnSell=t},o.apiOnJWTSuccess=function(t){u.apiOnJWTSuccess=t},o.apiOnJWTFailure=function(t){u.apiOnJWTFailure=t},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.showRealtimeSnapshot=function(t,e,a){u.$store.commit("widget/".concat(Ge,"/SNAP_MODE_CHANGED"),t),u.apiOnJWTSuccess=e,u.apiOnJWTFailure=a},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},Ui={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",ca],sa),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[ca]=Object.assign(s.widget[ca],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:oa.en,no:{}}})}(a),d=function(t,e){var a={};a[ca+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(ra,{props:{wid:ca},on:{click:function(t){u.apiOnClick&&u.apiOnClick(t)}}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(ca,"/RICS_CHANGED"),t)},o.setColumns=function(t){u.$store.commit("widget/".concat(ca,"/COLUMNS_CHANGED"),t)},o.setButtons=function(t){u.$store.commit("widget/".concat(ca,"/BUTTONS_CHANGED"),t)},o.onClick=function(t){u.apiOnClick=t},o.setLocale=function(t){l.locale=t},o.getLocale=function(){return l.locale},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},zi={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",ba],ma),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[ba]=Object.assign(s.widget[ba],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:va.en,no:{}}})}(a),d=function(t,e){var a={};a[ba+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(pa,{props:{wid:ba}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(ba,"/RIC_CHANGED"),t)},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},Yi={init:function(t,e,a,n){var r={onError:null,onConfigChange:null},s=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",Aa],Ha),e}(r);e&&function(t){t.indexRic&&(t.rics=t.indexRic,delete t.indexRic);var e=Object(M.a)(s.state);e.widget[Aa]=Object.assign(e.widget[Aa],t),s.replaceState(e)}(e);var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:Ia.en,no:{}}})}(a),c=function(t,e){var a={};a[Aa+"Widget"]=e;var i=Object(x.a)(o.getLocaleMessage(t),a);o.setLocaleMessage(t,i)};n&&c(a,n);var l=new i.default({i18n:o,store:s,render:function(t){return t(Pa,{props:{wid:Aa},on:{click:function(t){l.apiOnClick&&l.apiOnClick(t)}}})}});return l.$mount(t),r.setIndexRic=function(t){l.$store.commit("widget/".concat(Aa,"/RICS_CHANGED"),t)},r.setRics=function(t){l.$store.commit("widget/".concat(Aa,"/RICS_CHANGED"),t)},r.setChainRic=function(t){l.$store.commit("widget/".concat(Aa,"/CHAIN_RIC_CHANGED"),t)},r.onClick=function(t){l.apiOnClick=t},r.getLocaleMessages=function(t){return o.getLocaleMessage(t||"en")},r.setLocaleMessages=function(t,e){c(t,e)},r.getLocale=function(){return o.locale},r.setLocale=function(t){o.locale=t},r.destroy=function(){l.$el.remove(),l.$destroy()},r}},Ji={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",hi],di),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[hi]=Object.assign(s.widget[hi],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:ui.en,no:{}}})}(a),d=function(t,e){var a={};a[hi+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(li,{props:{wid:hi},on:{click:function(t){u.apiOnClick&&u.apiOnClick(t)}}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(hi,"/RIC_CHANGED"),[t])},o.setShowVolume=function(t){u.$store.commit("widget/".concat(hi,"/DISPLAY_VOLUME_CHANGED"),t)},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}},Ki={init:function(t,e,a,n){var r,s,o={onError:null,onConfigChange:null},c=function(t){var e=new tt.a.Store({strict:!0,modules:{widget:{namespaced:!0,state:{}}},plugins:[function(e){e.subscribe((function(e,a){t.onConfigChange&&t.onConfigChange(Object(M.a)(a))}))}]});return e.registerModule(["widget",qi],Ii),e}(o);e&&(r=e,(s=Object(M.a)(c.state)).widget[qi]=Object.assign(s.widget[qi],r),c.replaceState(s));var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return new et.a({locale:t,fallbackLocale:t,messages:{en:Ai.en,no:{}}})}(a),d=function(t,e){var a={};a[qi+"Widget"]=e;var i=Object(x.a)(l.getLocaleMessage(t),a);l.setLocaleMessage(t,i)};n&&d(a,n);var u=new i.default({i18n:l,store:c,render:function(t){return t(Hi,{props:{wid:qi},on:{click:function(t){u.apiOnClick&&u.apiOnClick(t)}}})}});return u.$mount(t),o.setRic=function(t){u.$store.commit("widget/".concat(qi,"/RIC_CHANGED"),t)},o.setResults=function(t){u.$store.commit("widget/".concat(qi,"/RESULTS_CHANGED"),t)},o.setColumns=function(t){u.$store.commit("widget/".concat(qi,"/COLUMNS_CHANGED"),t)},o.setTimeRange=function(t){u.$store.commit("widget/".concat(qi,"/TIME_RANGE_CHANGED"),t)},o.onClick=function(t){u.apiOnClick=t},o.getLocaleMessages=function(t){return l.getLocaleMessage(t||"en")},o.setLocaleMessages=function(t,e){d(t,e)},o.getLocale=function(){return l.locale},o.setLocale=function(t){l.locale=t},o.destroy=function(){u.$el.remove(),u.$destroy()},o}}}});